<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="UTF-8" />
    <title>Aliot DT</title>
    <script src='https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js'></script>
    <link rel="stylesheet" href="map.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css" rel="stylesheet" />
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script src="https://dt.gractor.com/babylon_bounding/index.html"></script>
    <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css' />
    <link rel="stylesheet" href="modelinfoview.css" />
    <link rel="stylesheet" href="facilityCss.css" />
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylon.gridMaterial.js"></script>
    <script src="https://cdn.babylonjs.com/materialsLibrary/babylon.gridMaterial.min.js"></script>
    <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
    <script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body>
    <div id="modelinfo-view" style=" border:none; outline:none;">

        <div class="overlap-wrapper useCaseSeochoBridgeVer">
            <div class="modelinfo-view-background-img"></div>
            <div class="modelinfo-view-title-top">
                <div style="width: 12.63rem;"></div>
                <div class="modelinfo-view-title-bottom-name">센트럴시티 보도육교
                    <!-- <label class="modelinfo-view-title-bottom-name-location">서초구 반포동 118-14</label> -->
                </div>
                <div class="modelinfo-view-title-right">
                    <div class="modelinfo-view-title-right-topAlarm" id="topAlarmBn"> <input type="checkbox">
                        <div class="top-line-modelinfo-view"></div>
                        <div class="top-time-modelinfo-view"><label class="top-time-modelinfo-view-date"
                                id="modelinfo-view-date">2024. 02. 01</label> <label
                                class="top-time-modelinfo-view-time" id="modelinfo-view-time">10:00 pm</label></div>
                    </div>
                    <img class="model-view-icon-exit-btn" src="./img/view_icon/cancel_white.png">
                </div>

            </div>
            <div class="AlarmDiv-position">
                <div class="AlarmDiv">
                    <div class="AlarmDiv-title">
                        <img src="img/bridgePage/ri_alert-fill.png">
                        <label> 알람</label>
                    </div>
                    <div class="AlarmDiv-contents">
                        <div class="AlarmDiv-contents-index">
                            <label class="AlarmDiv-contents-index-time">시간</label>
                            <label class="AlarmDiv-contents-index-info">이벤트 상세</label>
                            <label class="AlarmDiv-contents-index-check">확인</label>
                        </div>
                        <div class="AlarmDiv-contents-list">
                            <div class="AlarmDiv-contents-list-content AlarmDiv-red">
                                <label class="AlarmDiv-contents-list-content-time">15:09:09</label>
                                <label class="AlarmDiv-contents-list-content-context"  for="AlarmDiv-contents-list-content-alram1">
                                    측정 2 기울기/균열 센서에서 균열이 감지되었습니다.
                                </label>
                                <input type="checkbox" class="AlarmDiv-contents-list-content" id="AlarmDiv-contents-list-content-alram1">
                            </div>
                            <div class="AlarmDiv-contents-list-content ">
                                <label class="AlarmDiv-contents-list-content-time">14:15:55</label>
                                <label class="AlarmDiv-contents-list-content-context" for="AlarmDiv-contents-list-content-alram2">
                                    공기질 지수가 좋음으로 변경되었습니다.
                                </label>
                                <input type="checkbox" class="AlarmDiv-contents-list-content"  id="AlarmDiv-contents-list-content-alram2">
                            </div>
                            <div class="AlarmDiv-contents-list-content AlarmDiv-check">
                                <label class="AlarmDiv-contents-list-content-time">10:15:50</label>
                                <label class="AlarmDiv-contents-list-content-context"  for="AlarmDiv-contents-list-content-alram3">
                                    공기질 지수가 나쁨으로 변경되었습니다.
                                </label>
                                <input type="checkbox" class="AlarmDiv-contents-list-content" checked  id="AlarmDiv-contents-list-content-alram3">
                            </div>
                        </div>
                        <div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="memoDiv-position">
                <div class="modelinfo-view-memo">
                    <input type="checkbox" id="memo-checkbox" class="model-view-checkbox">
                </div>
                <div id="model-view-right-memo" style="display: none;">


                    <div id="model-view-right-memo-list">
                        <div id="model-view-right-memo-delete">
                            <div id="model-view-right-memo-delete-box">
                                <span style="font-size: 1rem; font-weight: 600; 
    margin-top: 3.56rem;">Are you sure you want to delete it?</span>
                                <span style="font-size: 0.8125rem; font-weight: 400; margin-top: 0.31rem;">This action
                                    cannot be undone</span>
                                <div id="model-view-right-memo-delete-btn">
                                    <div class="delete-btn" id="delete-box-delete">Delete</div>
                                    <div class="delete-btn" id="delete-box-cancel">Cancle</div>
                                </div>
                            </div>
                        </div>
                        <div id="model-view-right-memo-list-background">
                            <div id="model-view-right-mewmo-info">
                                <div id="model-view-right-mewmo-info-left">
                                    <img src="./img/view_icon/memo  48x48.png">
                                    <span>Memo</span>
                                </div>

                                <img class="model-view-right-memo-plus model-view-right-memo-plus-origin"
                                    src="./img/view_icon/plus.png">
                                <img class="model-view-right-memo-plus model-view-right-memo-plus-bridge"
                                    src="./img/bridgePage/plus_br.png">
                            </div>
                            <div id="model-view-right-memo-list-info">
                                <img id="info-icon2" src="./img/bridgePage/memo  48x48.png">
                                <img id="info-icon" src="./img/view_icon/memo  48x48.png">

                                <span id="info-word">
                                    There are no notes
                                </span>
                                <span id="info-word-under" style=" font-size: 1rem;">
                                    Please add a note
                                </span>
                            </div>
                            <div id="model-view-right-memo-list-append">
                            </div>

                        </div>

                    </div>
                </div>
            </div>
            <div class="modelinfo-view-eventpopup" style="display: none;">
                <audio id="eventpopup-sound" src="https://dt.gractor.com/file/AlarmSound.mp3" preload="auto"></audio>
                <div class="modelinfo-view-eventpopup-content">
                    <img src="img/bridgePage/Frame 9814.png">
                    <label class="modelinfo-view-eventpopup-title" for="">위험 감지 알림</label>
                    <label class="modelinfo-view-eventpopup-subtitle">측점 1 기울기/균열 센서에서 균열 감지</label>
                    <label class="modelinfo-view-eventpopup-time">발생 시각 - 22:00:00</label>
                </div>
                <div class="modelinfo-view-eventpopup-btn">
                    <div class="modelinfo-view-eventpopup-btn-close">닫기</div>
                    <div class="modelinfo-view-eventpopup-btn-move">바로 이동</div>
                </div>
            </div>
            <div class="modelinfo-view-main">
                <div class="view-model">
                    <canvas id="renderCanvas" touch-action="none"></canvas>
                    <!-- <img class="view-model-control-btn" src="./img/icons/around360.png"> -->
                </div>
            </div>
            <div class="modelinfo-view-top-tab">
                <div class="modelinfo-view-top-tab-radioBtns">
                    <input type="radio" name="modelinfo-view-top-tabs" value="Overview" id="Overview" checked>
                    <label id="overview-div" for="Overview">Overview</label>
                    <input type="radio" name="modelinfo-view-top-tabs" value="Device" id="Device">
                    <label id="Device-div" for="Device">Device</label>
                    <input type="radio" name="modelinfo-view-top-tabs" value="population_density"
                        id="population_density">
                    <label id="population_density-div" for="population_density">CCTV</label>
                </div>


            </div>
            <div class="modelinfo-view-top-tab-view">
                <div class="modelinfo-view-top-tab-overview">
                    <div class="modelinfo-view-top-tab-overview-left">
                        <div class="modelinfo-view-top-tab-overview-left-wether widget-clicked-view">
                            <img class="modelinfo-view-top-tab-overview-left-wether-img"
                                src="img/bridgePage/a-little-cloudy.png">
                            <div class="modelinfo-view-top-tab-overview-left-wether-data">
                                <label class="wether-data-weather">흐림</label>
                                <label class="wether-data-temp">21.9<img src="img/bridgePage/℃.png"></label>
                                <div class="wether-data-location">
                                    <img src="img/bridgePage/mdi_location.png">
                                    <label class="wether-data-location-label">서초구 반포동 118-14</label>
                                </div>
                            </div>
                        </div>

                        <div class="modelinfo-view-top-tab-overview-left-widget widget-clicked-view">
                            <img src="img/bridgePage/widget_overview-rigtht2.png">
                            <div class="update-div" onclick="changeText(this)">
                                <img src="img/bridgePage/update2.png">
                                <div class="update-div-data">
                                    <label>Last Update</label>
                                    <label class="update-div-data-date">15:10:00</label>
                                </div>
                            </div>
                        </div>
                        <div></div>
                    </div>
                    <div class="modelinfo-view-top-tab-overview-right">

                        <div class="modelinfo-view-top-tab-overview-right-widget widget-clicked-view">
                            <img src="img/bridgePage/widget_overview_right1.png">
                            <div class="update-div" onclick="changeText(this)">
                                <img src="img/bridgePage/update2.png">
                                <div class="update-div-data">
                                    <label>Last Update</label>
                                    <label class="update-div-data-date">15:10:00</label>
                                </div>
                            </div>
                        </div>
                        <div class="modelinfo-view-top-tab-overview-right-widget-doc widget-clicked-view">
                            <img src="img/bridgePage/widget_overview_doc.png">
                        </div>
                    </div>

                </div>
                <div class="modelinfo-view-top-tab-device" style="display: none;">
                    <div class="modelinfo-view-top-tab-device-left">
                        <div class="modelinfo-view-top-tab-device-leftWidget widget-clicked-view">
                            <div class="modelinfo-view-top-tab-device-leftWidget-name">
                                <img src="img/bridgePage/Frame 10366.png">
                                <label>장치 현황</label>
                            </div>
                            <div class="modelinfo-view-top-tab-device-leftWidget-list">
                                <input type="radio" id="device-leftWidget-sensor1" name="device-leftWidget-sensors"
                                    value="sensor1" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor2" name="device-leftWidget-sensors"
                                    value="sensor2" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor3" name="device-leftWidget-sensors"
                                    value="sensor3" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor4" name="device-leftWidget-sensors"
                                    value="sensor4" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor5" name="device-leftWidget-sensors"
                                    value="sensor5" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor6" name="device-leftWidget-sensors"
                                    value="sensor6" class="btn_cam">
                                <input type="radio" id="device-leftWidget-sensor7" name="device-leftWidget-sensors"
                                    value="sensor7" class="btn_cam">
                            </div>
                            <div class="update-div" onclick="changeText(this)">
                                <img src="img/bridgePage/update2.png">
                                <div class="update-div-data">
                                    <label>Last Update</label>
                                    <label class="update-div-data-date">15:10:00</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 여기 확인 -->
                    <div class="modelinfo-view-top-tab-device-right" style="display: none;">
                        <img src="./img/bridgePage/itemSensor/item_box_panel.png">
                        <input type="checkbox" class="modelinfo-view-top-tab-device-right-graphBtn">
                    </div>
                    <div class="modelinfo-view-top-tab-device-bottom" style="display: none;">
                        <input type="checkbox" id="modelinfo-view-top-tab-device-bottom-checked">
                        <img src="./img/bridgePage/Frame 47717.png">
                    </div>
                    <div class="modelinfo-view-top-tab-device-center" style="display: none;">
                        <img src="./img/bridgePage/widget_graph.png">
                        <div class="modelinfo-view-top-tab-device-center-eventPanel">
                            <div class="update-div" onclick="changeText(this)">
                                <img src="img/bridgePage/update2.png">
                                <div class="update-div-data">
                                    <label>Last Update</label>
                                    <label class="update-div-data-date">15:10:00</label>

                    <!-- 여기 확인 -->
                                </div>
                            </div>
                            <div class="modelinfo-view-top-tab-device-center-eventPanel-closeBtn">
                                <img src="img/bridgePage/Frame 47683.png">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modelinfo-view-top-tab-population_density" style="display: none;">
                    <div class="modelinfo-view-top-tab-population_density-people">
                        <div class="modelinfo-view-top-tab-population_density-deviceWidget">
                            <img class="population_density-deviceWidget-img" src="img/bridgePage/widget2.png">
                            <div class="modelinfo-view-top-tab-population_density-device">
                                <img src="img/bridgePage/Frame 10366.png">
                                <label> CCTV 장치 현황</label>
                            </div>
                            <div class="population_density-device-list">
                                <input type="checkbox" class="population_density-device-list-content"
                                    id="population_density-device-part1">
                                <input type="checkbox" class="population_density-device-list-content"
                                    id="population_density-device-part2">
                                <input type="checkbox" class="population_density-device-list-content"
                                    id="population_density-device-part3">
                            </div>
                            <div class="update-div" onclick="changeText(this)">
                                <img src="img/bridgePage/update2.png">
                                <div class="update-div-data">
                                    <label>Last Update</label>
                                    <label class="update-div-data-date">15:10:00</label>
                                </div>
                            </div>
                
                        </div>
                        <!-- <div class="modelinfo-view-top-tab-population_density-peopleWidget widget-clicked-view">
                            <div class="population_density-peopleWidget-title">
                                <img src="img/bridgePage/Frame 10366.png">
                                <label> 인구 현황</label>
                            </div>
                            <div class="population_density-peopleWidget-dateSet">
                                <div class="peopleWidget-dateSet-date">
                                    <img src="img/bridgePage/calender.png">
                                    <label> 2024.02.06</label>
                                </div>
                                <div class="peopleWidget-dateSet-date">
                                    <img src="img/bridgePage/calender.png">
                                    <label> 2024.02.06</label>
                                </div>
                                <div class="population_density-peopleWidget-dateSet-search">
                                    <img src="img/bridgePage/search.png">
                                </div>
                            </div>
                            <img class="population_density-peopleWidget-chart" src="img/bridgePage/Chart.png">
                            <div class="population_density-peopleWidget-avg">
                                <div>
                
                                    <img src="img/bridgePage/Frame 10366.png">
                                    <label> \t 시간 평균 이용자</label>
                                </div>
                                <div>
                                    <label> 15명</label>
                                </div>
                            </div>
                            <div class="population_density-peopleWidget-sum">
                                <div>
                
                                    <img src="img/bridgePage/Frame 10366.png">
                                    <label> 당월 누적 이용자</label>
                                </div>
                                <div>
                                    <label> 1,243명</label>
                                </div>
                            </div>
                        </div> -->
                    </div>
                    <div class="modelinfo-view-top-tab-population_density-cctv">
                
                    </div>
                    <!-- <div class="modelinfo-view-top-tab-population_density-bottom widget-clicked-view">
                        <img src="img/bridgePage/warning.png">
                        <label>
                            한 시간 단위로 평균 인구 밀집도를 나타냅니다
                        </label>
                    </div> -->
                </div>
            </div>
            <div id="model-view-rightside">
                <div id="model-view-rightside-style">



                    <div id="model-view-group-right">
                        <div class="model-view-info">
                            <div>

                            </div>
                            <div class="model-view-info-slider">
                                <input type="radio" id="model-slider-basic" class="model-view-info-slider-box"
                                    name="model-slider" checked>
                                <label for="model-slider-basic" class="model-view-info-slider-box-label">Basic
                                    info</label>
                                <input type="radio" id="model-slider-data" class="model-view-info-slider-box"
                                    name="model-slider">
                                <label for="model-slider-data" class="model-view-info-slider-box-label">Data</label>
                                <input type="radio" id="model-slider-graph" class="model-view-info-slider-box"
                                    name="model-slider">
                                <label for="model-slider-graph" class="model-view-info-slider-box-label">Graph</label>
                            </div>
                            <div class="model-view-info-slider-underline"></div>
                            <div class="model-view-info-option">
                                <div id="model-view-info-option-first">
                                    <div class="model-view-option-calender-icon"></div>
                                    <div class="model-view-option-calender"></div>
                                    <input type="checkbox" class="model-view-option-expansion">
                                </div>

                            </div>
                            <div id="model-view-info-slider-group">
                                <div id="basic-info">
                                    <div class="model-view-info-operating">
                                        <div class="model-view-info-group" id="model-view-info-operating-group">
                                            <div id="model-view-info-operating-icon" class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-operating-title" class="model-view-info-title">
                                                Operating status</div>
                                        </div>
                                        <div class="model-view-info-infogroup" id="model-view-info-operating-infogroup">
                                            <div id="operating-version-group" class="list-group">
                                                <div class="info-text info-text-title" id="operating-version">
                                                    Version
                                                </div>
                                                <div class="info-text" id="operating-version-info">
                                                    KRSP 100
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="operating-ID-group" class="operating-group list-group">
                                                <div class="info-text info-text-title" id="operating-ID">
                                                    ID
                                                </div>
                                                <div class="info-text" id="operating-ID-info">
                                                    krsp 100
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="model-view-info-information">
                                        <div class="model-view-info-group" id="model-view-info-information-group">
                                            <div id="model-view-info-information-icon" class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-information-title" class="model-view-info-title">
                                                Basic
                                                Information</div>
                                        </div>
                                        <div class="model-view-info-infogroup"
                                            id="model-view-info-information-infogroup">
                                            <div id="information-modelname-group" class="information-group list-group">
                                                <div class="info-text info-text-title" id="information-modelname">
                                                    Model name
                                                </div>
                                                <div class="info-text" id="information-modelname-info">
                                                    KRSP100-100V
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="information-location-group" class="information-group list-group">
                                                <div class="info-text info-text-title" id="information-location">
                                                    Location
                                                </div>
                                                <div class="info-text" id="information-location-info">
                                                    경북 구미시 3공단2로 174
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="model-view-info-circlechart">
                                        <div class="model-view-info-group" id="model-view-info-circlechart-group">
                                            <div id="model-view-info-circlechart-icon" class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-circlechart-title" class="model-view-info-title">
                                                Air
                                                flow & Power in</div>
                                        </div>
                                        <div id="model-view-info-circlechart-infogroup">
                                            <div class="circlechart-infogroup" id="circlechart-airflow-infogroup">
                                                <div class="circlechart-btn">

                                                </div>
                                                <div class="circlechart-title">
                                                    Air flow
                                                </div>
                                                <div class="circlechart-progress">
                                                    <div class="circlechart-progress-box" role="progressbar"
                                                        aria-valuenow="41.46" aria-valuemin="0" aria-valuemax="100"
                                                        style="--value: 41">
                                                        <div class="multiline-span">
                                                            <span class="top-line">41.46</span>
                                                            <span class="bottom-line">KW</span>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="circlechart-infogroup" id="circlechart-powerin-infogroup">
                                                <div class="circlechart-btn">

                                                </div>
                                                <div class="circlechart-title">
                                                    Power in
                                                </div>
                                                <div class="circlechart-progress">
                                                    <div class="circlechart-progress-box" role="progressbar"
                                                        aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                                                        style="--value: 0">
                                                        <div class="multiline-span">
                                                            <span class="top-line">0.0</span>
                                                            <span class="bottom-line">Cmf</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!-- <div class="verticalline" style="margin-left: 3.62rem;"></div> -->
                                <div id="data" style="display: none;">
                                    <div class="model-view-info-Filtartion_lubrication">
                                        <div class="model-view-info-group"
                                            id="model-view-info-Filtartion_lubrication-group">
                                            <div id="model-view-info-Filtartion_lubrication-icon"
                                                class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-Filtartion_lubrication-title"
                                                class="model-view-info-title">Air
                                                Filtartion and lubrication data</div>
                                        </div>
                                        <div id="model-view-info-Filtartion_lubrication-infogroup">
                                            <div class="Filtartion_lubrication-infogroup"
                                                id="Filtartion_lubrication-acfm-infogroup">

                                                <div class="Filtartion_lubrication-title">
                                                    ACFM
                                                </div>
                                                <div class="Filtartion_lubrication-bar">

                                                </div>
                                                <div class="Filtartion_lubrication-num">
                                                    500
                                                </div>
                                            </div>
                                            <div class="Filtartion_lubrication-infogroup"
                                                id="Filtartion_lubrication-full-infogroup">

                                                <div class="Filtartion_lubrication-title">
                                                    Full load pressure<br>
                                                    (psig)
                                                </div>
                                                <div class="Filtartion_lubrication-bar">

                                                </div>
                                                <div class="Filtartion_lubrication-num">
                                                    100
                                                </div>
                                            </div>
                                            <div class="Filtartion_lubrication-infogroup"
                                                id="Filtartion_lubrication-motor-infogroup">

                                                <div class="Filtartion_lubrication-title">
                                                    Motor HP
                                                </div>
                                                <div class="Filtartion_lubrication-bar">

                                                </div>
                                                <div class="Filtartion_lubrication-num">
                                                    100
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="model-view-info-Electrical_data">
                                        <div class="model-view-info-group" id="model-view-info-Electrical_data-group">
                                            <div id="model-view-info-Electrical_data-icon" class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-Electrical_data-title"
                                                class="model-view-info-title">
                                                Air
                                                Electrical data</div>
                                        </div>
                                        <div id="model-view-info-Electrical_data-infogroup">
                                            <div class="model-view-info-infogroup"
                                                id="model-view-info-Electrical_data-infogroup">
                                                <div id="Electrical_data-rating-group" class="list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-rating">
                                                        Electrical enclosure rating
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-rating-info">
                                                        NEMA1
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="Electrical_data-type-group"
                                                    class="Electrical_data-group list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-type">
                                                        Enclosure type
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-type-info">
                                                        TEFC
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="Electrical_data-class-group"
                                                    class="Electrical_data-group list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-class">
                                                        Insulation class
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-class-info">
                                                        F
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="Electrical_data-efficiency-group"
                                                    class="Electrical_data-group list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-efficiency">
                                                        Drive motor efficiency
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-efficiency-info">
                                                        95.4%
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="Electrical_data-service-group"
                                                    class="Electrical_data-group list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-service">
                                                        Service Factor
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-service-info">
                                                        1.20
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="Electrical_data-fan-group"
                                                    class="Electrical_data-group list-group">
                                                    <div class="info-text info-text-title-Electrical"
                                                        id="Electrical_data-fan">
                                                        Fan motor HP #1
                                                    </div>
                                                    <div class="info-text" id="Electrical_data-fan-info">
                                                        5.5
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="verticalline" style="margin-left: 4.69rem;"></div> -->
                                <div id="graph" style="display: none;">
                                    <div class="model-view-info-Specific_Efficiency">
                                        <div class="model-view-info-group"
                                            id="model-view-info-Specific_Efficiency-group">
                                            <div id="model-view-info-Specific_Efficiency-icon"
                                                class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-Specific_Efficiency-title"
                                                class="model-view-info-title">Air
                                                Specific Efficiency</div>
                                        </div>
                                        <div id="model-view-info-Specific_Efficiency-infogroup">
                                            <div class="Specific_Efficiency-infogroup"
                                                id="Specific_Efficiency-graph-infogroup">
                                                <div id="Specific_Efficiency-graph-infogroup-line">

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="model-view-info-airflow">
                                        <div class="model-view-info-group" id="model-view-info-airflow-group">
                                            <div id="model-view-info-airflow-icon" class="model-view-info-icon">
                                            </div>
                                            <div id="model-view-info-airflow-title" class="model-view-info-title">
                                                Air
                                                Air Flow, Pressure</div>
                                        </div>
                                        <div id="model-view-info-airflow-infogroup">
                                            <div class="airflow-infogroup" id="airflow-graph-infogroup">
                                                <div id="airflow-graph-infogroup-line">

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>

                </div>

            </div>
            <div class="icon-group">
                <div class="model-view-icon model-view-icon-reset">
                    <img src="img/view_icon/reset 48x48.png">
                </div>
                <div class="model-view-icon videoplay-group-icon-internal-device">
                    <input type="checkbox" class="videoplay-checkbox-btn">
                </div>
                <div class="model-view-icon model-view-icon-grid ">
                    <img src="img/view_icon/grid 48x48.png">
                    <input type="checkbox" class="grid-checkbox-btn">
                </div>

            </div>
        </div>
    </div>

    </div>



    <div id="map">

        <div id="main-top-bar">
            <div id="top-bar-logo" style="
    height: 1.25rem;
"> <img src="img/main_icon/Logo.png" style="    width: 4.5625rem;
    height: 1.25rem"></div>
            <div id="top-bar-name">DT</div>
        </div>
        <div id="main-view">
            <div id="view-bar">

                <div class="editorModeIcon editorMode" id="view-bar-editor-icons">
                    <div id="view-bar-editor-icons-home">
                        <input type="button" id="editor-icons-home" class="editorModeIcons-icon" onclick="ToStart()"
                            style="background-image: url('./img/main_icon/home.png')">
                        </input>
                    </div>
                    <div class="view-bar-editor-icons-line"></div>
                    <div id="view-bar-editor-icons-Editorfunc">
                        <input type="radio" name="editoricon" class="editorModeIcon editorMode editorModeIcons-icon"
                            id="editor-icons-select" style="background-image: url('./img/main_icon/select.png')"
                            checked>
                        </input>
                        <input type="radio" name="editoricon" class="editorModeIcon editorMode editorModeIcons-icon"
                            id="editor-icons-scale" style="background-image: url('./img/main_icon/scale.png')">
                        </input>
                        <input type="radio" name="editoricon" class="editorModeIcon editorMode editorModeIcons-icon"
                            id="editor-icons-rotation" style="background-image: url('./img/main_icon/rotation.png')">
                        </dinputiv>
                        <input type="radio" name="editoricon" class="editorModeIcon editorMode editorModeIcons-icon"
                            id="editor-icons-move" style="background-image: url('./img/main_icon/move.png')">
                        </input>
                        <input type="checkbox" class="editorModeIcon editorMode editorModeIcons-icon"
                            id="editor-icons-modeling" style="background-image: url('./img/main_icon/modeling.png')">
                        </input>
                    </div>

                    <div class="view-bar-editor-icons-line"></div>
                    <div id="view-bar-editor-icons-category">
                        <input type="checkbox" id="categoryBtn">
                        <div id="categoryBtn-categoryList">
                            <div class="categoryBtn-categoryList-categoryDiv">
                                <input type="checkbox" id="category-facility" value="facility"
                                    onchange="handleChange(value)">
                                <label for="category-facility">facility</label>
                            </div>
                            <div class="categoryBtn-categoryList-categoryDiv">
                                <input type="checkbox" id="category-building" value="building"
                                    onchange="handleChange(value)">
                                <label for="category-building">building</label>
                            </div>
                            <div class="categoryBtn-categoryList-categoryDiv">
                                <input type="checkbox" id="category-traffic" value="traffic"
                                    onchange="handleChange(value)">
                                <label for="category-traffic">traffic</label>
                            </div>
                            <div class="categoryBtn-categoryList-categoryDiv">
                                <input type="checkbox" id="category-machine" value="device"
                                    onchange="handleChange(value)">
                                <label for="category-machine">device</label>
                            </div>
                            <div class="categoryBtn-categoryList-categoryDiv">
                                <input type="checkbox" id="category-sensor" value="etc " onchange="handleChange(value)">
                                <label for="category-sensor">etc </label>
                            </div>

                        </div>
                        </input>

                        <div id="categoryBtn-tagLists">
                        </div>
                    </div>

                    <!-- <div id="editor-icons-saveBTN">save</div> -->
                </div>
                <div id="view-bar-name">
                    Viewer
                </div>
                <div id="view-bar-right-side">
                    <label id="view-bar-manage-btn">
                        <input type="checkbox" id="viewBarCheckbox" style="display: none;">
                        <img src="img/main_icon/map 36x36.png" id="checkboxImage">
                    </label>
                    <div id="view-bar-lasttime-btn">
                        last save time: <span>12.26 09:55:15</span>
                    </div>
                    <div id="view-bar-save-btn">
                        <span>save</span>
                    </div>
                    <div id="view-bar-btn">
                        <div id="view-bar-editorChange-btn">
                            <input type="checkbox" id="view-bar-editorChange-btn-checkbox" checked>
                        </div>

                    </div>
                </div>

            </div>
            <div id="editor-view-interaction">
                <div id="main-view-side">
                    <div class="editorMode" id="main-editor-side-view" style="width: 21rem; height: 100%; ">
                        <div id="main-editor-side-view-layer">
                            <div id="main-editor-side-view-layer-name"> <span>Layer</span></div>
                            <div id="main-editor-side-view-layer-layer">
                                <div id="editor-side-view-layer-search">
                                    <div id="editor-side-view-layer-searching">
                                        <img src="./img/main_icon/search 30x30.png">
                                        <input class="inputting" id="editor-side-view-layer-searching-input"
                                            class="input-box-css" type="text" placeholder="search">
                                        <div id="editor-side-view-layer-searching-input-clear" class="clearbtn">
                                        </div>
                                    </div>
                                    <div id="editor-side-view-layer-icon">
                                        <img src="./img/main_icon/group layer 30x30.png">
                                    </div>
                                </div>
                                <div style="display: none;" id="editor-side-view-layer-objects-lists-manager"
                                    class="editor-side-view-layer-objects-lists-class">

                                </div>
                                <div id="editor-side-view-layer-objects-lists"
                                    class="editor-side-view-layer-objects-lists-class">

                                </div>
                            </div>
                        </div>
                        <div id="main-editor-side-view-property" class="inspectorclass ">
                            <div id="main-editor-side-view-property-name" class="inspectorclass ">
                                <span>Property</span>
                            </div>
                            <div id="main-editor-view-property-property" class="inspectorclass ">
                                <!-- editormode에서 property비활성화 상태일 때 visible로 변경할 것 -->
                                <div id="main-editor-view-property-property-disable" class="inspectorclass "></div>
                                <div id="editor-view-modelProperty-fix-type"
                                    class="editor-modelProperty-fix-view  inspectorclass   editor-modelProperty-fix-view-input">
                                    <label class="inspectorclass propertytitle">Type</label>
                                    <div class="input-box-css inspectorclass " type="text"
                                        id="editor-modelProperty-fix-type" placeholder="type"></div>
                                </div>
                                <div id="editor-view-modelProperty-fix-name"
                                    class="editor-modelProperty-fix-view inspectorclass editor-modelProperty-fix-view-input">
                                    <label class="inspectorclass propertytitle">Name</label> <input
                                        class="input-box-css inputting inspectorclass " type="text"
                                        id="editor-modelProperty-fix-name" placeholder="name">
                                </div>

                                <div id="editor-view-modelProperty-fix-transform"
                                    class="editor-modelProperty-fix-view inspectorclass ">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-fix-transform-set"
                                        class="arrowupdown inspectorclass ">
                                        <label class="inspectorclass propertytitle">Transform</label> <input
                                            type="checkbox" id="editor-modelProperty-fix-transform-img"
                                            class="inspectorclass">
                                        <!-- <img id="editor-modelProperty-fix-transform-img" src="./img/icons/arrow.png"> -->
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-fix-transform-location" class="inspectorclass ">
                                        <label class="inspectorclass propertytitle"
                                            style="display: flex; flex-direction: row; align-items: center; ">
                                            <div class="inspectorclass "
                                                style="width: 0.25rem; height: 0.25rem; border-radius: 0.03rem; background: #D9D9D9; margin-right: 0.75rem;">
                                            </div> location
                                            <img src="./img/main_icon/help.png"
                                                style="width: 0.75rem; height: 0.75rem; margin-left: 0.5rem;">
                                        </label>
                                        <div id="editor-view-modelProperty-fix-adressinfo">
                                            <input type="radio" name="adressinfochange" class="adressinfo"
                                                id="addressButton" checked>
                                            <label for="addressButton" class="custom-radio-button">Address</label>

                                            <input type="radio" name="adressinfochange" class="adressinfo"
                                                id="latLngButton">
                                            <label for="latLngButton" class="custom-radio-button">Latitude and
                                                Longitude</label>
                                        </div>
                                        <input class="input-box-css import-Property-toJson inputting inspectorclass "
                                            type="text" id="editor-modelProperty-fix-location-name"
                                            placeholder="address" onkeypress="return geoGetInspector(event)">

                                    </div>
                                    <div id="editor-modelProperty-fix-transform-transform" class="inspectorclass ">
                                        <div class="inspectorclass "
                                            id="editor-modelProperty-fix-transform-transform-selectmode">
                                            <select id="editor-modelProperty-fix-transform-transform-objectSetting">
                                                <option value="1">one object</option>
                                                <option value="2">multiple objects</option>
                                            </select>
                                            <div lass="inspectorclass "
                                                id="editor-modelProperty-fix-transform-transform-multiple">

                                                <div id="fix-transform-multiple-count"
                                                    class="editor-modelProperty-fix-view-transform-multiple inspectorclass ">
                                                    <label lass="inspectorclass ">Name</label>
                                                    <input type="text" id="editor-fix-transform-multiple-name"
                                                        class="inputting inspectorclass ">
                                                </div>
                                                <div id="fix-transform-multiple-locationstart"
                                                    class="editor-modelProperty-fix-view-transform-multiple inspectorclass">
                                                    <label lass="inspectorclass ">location - start</label>
                                                    <input type="text" id="editor-fix-transform-multiple-locationstart"
                                                        class="inputting inspectorclass">
                                                </div>
                                                <div id="fix-transform-multiple-locationend"
                                                    class="editor-modelProperty-fix-view-transform-multiple inspectorclass ">
                                                    <label class="inspectorclass ">location - end</label>
                                                    <input type="text" id="editor-fix-transform-multiple-locationend"
                                                        class="inputting inspectorclass ">
                                                </div>
                                            </div>

                                        </div>

                                        <div id="position" class="objectInfoContents inspectorclass inspectorclass">
                                            <div class="ObjectInfo_Input inspectorclass ">
                                                <label class="inspectorclass transform-label-input-display">
                                                    x
                                                    <input type="number" id="position_Value_x"
                                                        class="inspectorclass input-box-css ObjectInfo_Input_value inputting"
                                                        placeholder="0.0" />
                                                </label>

                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    y
                                                    <input type="number" id="position_Value_y"
                                                        class="inspectorclass input-box-css ObjectInfo_Input_value inputting"
                                                        placeholder="0.0" />
                                                </label>
                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    z
                                                    <input type="number" id="position_Value_z"
                                                        class="inspectorclass input-box-css ObjectInfo_Input_value inputting"
                                                        placeholder="0.0" />
                                                </label>
                                            </div>
                                        </div>
                                        <div id="rotation" class=" inspectorclass objectInfoContents">
                                            <div class="objectInfoContents-name" class="inspectorclass ">

                                                <label class="inspectorclass "
                                                    style="display: flex; flex-direction: row; align-items: center; ">
                                                    <div class="inspectorclass "
                                                        style="width: 0.25rem ; height: 0.25rem ; border-radius: 0.03rem ; background: #D9D9D9; margin-right: 0.5rem ;">
                                                    </div>
                                                    rotation
                                                </label>
                                            </div>
                                            <div class="inspectorclass ObjectInfo_Input">

                                                <label class="inspectorclass transform-label-input-display">
                                                    x
                                                    <input type="number" id="rotation_Value_x"
                                                        class="inspectorclass input-box-css ObjectInfo_Input_value inputting"
                                                        placeholder="0.0" />
                                                </label>

                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    y
                                                    <input type="number" id="rotation_Value_y"
                                                        class="inspectorclass input-box-css inputting ObjectInfo_Input_value"
                                                        placeholder="0.0" />
                                                </label>
                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    z
                                                    <input type="number" id="rotation_Value_z"
                                                        class="inspectorclass input-box-css  inputting ObjectInfo_Input_value"
                                                        placeholder="0.0" />
                                                </label>
                                            </div>

                                        </div>
                                        <div id="scale" class="inspectorclass objectInfoContents">
                                            <div class="objectInfoContents-name" class="inspectorclass ">

                                                <label class="inspectorclass "
                                                    style="display: flex; flex-direction: row; align-items: center; ">
                                                    <div class="inspectorclass "
                                                        style="width: 0.25rem ; height: 0.25rem ; border-radius: 0.03rem ; background: #D9D9D9; margin-right: 0.5rem ;">
                                                    </div>
                                                    scale
                                                </label>
                                            </div>
                                            <div class="inspectorclass ObjectInfo_Input">
                                                <label class="inspectorclass transform-label-input-display">
                                                    x
                                                    <input type="number" id="scale_Value_x"
                                                        class="inspectorclass input-box-css inputting ObjectInfo_Input_value"
                                                        placeholder="0.0" />
                                                </label>

                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    y
                                                    <input type="number" id="scale_Value_y"
                                                        class="inspectorclass input-box-css inputting ObjectInfo_Input_value"
                                                        placeholder="0.0" />
                                                </label>
                                                <label
                                                    class="inspectorclass transform-label-input-display between-side-transform-input">
                                                    z
                                                    <input type="number" id="scale_Value_z"
                                                        class="inspectorclass input-box-css  inputting ObjectInfo_Input_value"
                                                        placeholder="0.0" />
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="editor-view-modelProperty-fix-explanation"
                                    class="editor-modelProperty-fix-view inspectorclass editor-modelProperty-fix-view-col">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-fix-explanation-view"
                                        class="arrowupdown inspectorclass ">
                                        <label class="inspectorclass ">Explanation</label>
                                        <input type="checkbox" class="inspectorclass "
                                            id="editor-modelProperty-fix-explanation-img">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <textarea class="inputting inspectorclass "
                                        id="editor-view-modelProperty-fix-explanation-input"></textarea>
                                </div>
                                <div id="editor-view-modelProperty-fix-marker"
                                    class="editor-modelProperty-fix-view inspectorclass  editor-modelProperty-fix-view-col">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-fix-marker-view"
                                        class="arrowupdown inspectorclass ">
                                        <label class="inspectorclass ">Marker</label>
                                        <input type="checkbox" class="inspectorclass "
                                            id="editor-modelProperty-fix-marker-img">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <div class="inputting inspectorclass "
                                        id="editor-view-modelProperty-fix-marker-input">
                                        <img src="img/main_icon/marker.png"
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                </div>
                                <div style="display: none;" id="editor-view-modelProperty-fix-JsonEditor"
                                    class="editor-modelProperty-view editor-modelProperty-fix-view-col inspectorclass ">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-fix-JsonEditor-view"
                                        class="arrowupdown inspectorclass ">
                                        <label class="inspectorclass ">JSON Editor</label>
                                        <input type="checkbox" class="inspectorclass "
                                            id="editor-modelProperty-fix-JsonEditor-img">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <textarea class="inputting inspectorclass "
                                        id="editor-view-modelProperty-fix-JsonEditor-input"></textarea>
                                </div>


                            </div>
                        </div>

                    </div>
                    <div id="main-veiw-side-mapbtn" class="main-veiw-side-mapbtn-class">

                        <div id="main-view-side-btn-location" class="veiw-side-mapbtn">
                            <img src="./img/main_icon/mylocation.png">
                        </div>
                        <div id="main-view-side-btn-search" class="veiw-side-mapbtn">

                            <div id="main-view-side-btn-search-img">
                                <input id="main-view-side-btn-search-img-checkbox" type="checkbox">

                            </div>
                            <div id="main-view-side-btn-search-input-div">
                                <input id="main-view-side-btn-search-input" class="input-box-css inputting"
                                    onkeypress="return geoChangeCode(event)" type="text" placeholder="search">
                                <img id="main-view-side-btn-search-input-img" src="img/main_icon/search 30x30.png">

                                <img id="side-btn-search-input-clear" src="img/main_icon/cancel mini 30x30.png">
                            </div>


                        </div>
                        <div id="main-view-side-btn-plus" class="veiw-side-mapbtn">
                            <img src="./img/main_icon/plus.png">
                        </div>
                        <div id="main-view-side-btn-minus" class="veiw-side-mapbtn">
                            <img src="./img/main_icon/minus.png">
                        </div>

                        <div id="main-view-side-btn-distance" class="veiw-side-mapbtn viewmodeBtn">
                            <input type="checkbox" name="sidebtn" id="main-view-side-btn-distance-checkbox">
                        </div>
                        <div id="main-view-side-btn-area" class="veiw-side-mapbtn viewmodeBtn">
                            <input type="checkbox" name="sidebtn" id="main-view-side-btn-area-checkbox"
                                class="mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_polygon">
                        </div>
                        <div id="main-view-side-btn-erase" class="veiw-side-mapbtn viewmodeBtn">
                            <img src="./img/main_icon/erase.png" id="main-view-side-btn-erase-checkbox">
                        </div>
                        <div id="main-view-side-btn-compass" class="veiw-side-mapbtn">
                            <img src="./img/main_icon/compass.png">
                        </div>
                        <div id="main-view-side-btn-3D" class="veiw-side-mapbtn">
                            <input type="checkbox" id="main-view-side-btn-3D-checkbox" checked>
                        </div>

                        <div id="main-veiw-side-mapbtn-mapStyle">
                            <div id="main-veiw-side-mapbtn-mapStyle-general">
                                <img src="img/main_icon/image 126.png">
                                <label>general map</label>
                            </div>
                            <div id="main-veiw-side-mapbtn-mapStyle-satellite">
                                <img src="img/main_icon/image 1262.png">
                                <label>satellite map</label>

                            </div>
                            <div id="main-veiw-side-mapbtn-mapStyle-3d">
                                <img src="img/main_icon/3dhalf1.png">
                                <label>3d map</label>

                            </div>
                        </div>
                    </div>

                    <div id="map-control">
                        <div id="map-control-side">

                        </div>
                    </div>
                    <div id="main-view-modelingExplane">
                        <div id="main-view-modelingExplane-view">
                            <div id="modelingExplane-view-modeling">

                            </div>
                            <div id="modelingExplane-view-modelProperty">
                                <div id="modelingExplane-view-modelProperty-name" class="modelProperty-view">
                                    <label>Name</label>
                                    <div id="view-modelProperty-name">smart pole</div>
                                </div>
                                <div id="modelingExplane-view-modelProperty-type" class="modelProperty-view">
                                    <label>Type</label>
                                    <div id="view-modelProperty-type">sensor</div>
                                </div>
                                <div id="modelingExplane-view-modelProperty-transform" class="modelProperty-view">
                                    <label>Location</label> <img id="modelProperty-transform-img"
                                        src="./img/icons/arrow-1.png">
                                    <div id="modelProperty-transform-transform">

                                    </div>
                                </div>
                                <div id="modelingExplane-view-modelProperty-explanation" class="modelProperty-view">

                                </div>
                                <div id="modelingExplane-view-modelProperty-JsonEditor" class="modelProperty-view">

                                </div>
                                <div id="modelingExplane-view-modelProperty-marker" class="modelProperty-view">

                                </div>
                            </div>
                        </div>
                        <div id="main-view-modelingExplane-view-exit">
                            <img src="./img/icons/cancel.png">
                        </div>
                    </div>
                    <div id="main-new-obj-box">
                        <div id="main-new-obj-box-import-disable">
                            <div id="import-completed-animation">
                                <svg id="check-svg" xmlns="http://www.w3.org/2000/svg" width="72" height="72"
                                    viewBox="0 0 72 72">
                                    <circle id="circle-import" cx="36" cy="36" r="23.5" stroke="#38DBFF"
                                        stroke-width="3" fill="none" />
                                    <path id="check-import"
                                        d="M27 35.5116L35.0433 44.5014C35.266 44.7504 35.6655 44.7151 35.8412 44.431L46 28"
                                        stroke="#38DBFF" stroke-width="3" stroke-linecap="round" fill="none" />
                                </svg>
                                <label>import completed</label>
                                <lottie-player src="./img/icons/checkCircleAnimation.json" background="transparent"
                                    style="width: 18.75rem ; height: 14.06rem;" speed="1" autoplay>
                                </lottie-player>

                            </div>
                        </div>
                        <div id="main-new-obj-box-title">
                            <div id="main-new-obj-box-back">
                                <img id="main-new-obj-box-icon-left" src="./img/main_icon/left.png">
                            </div>
                            <div id="main-new-obj-box-title-3dassets">3D Assets</div>
                            <div id="main-new-obj-box-icon">
                                <img class="main-new-obj-box-icon-img" id="main-new-obj-box-icon-search"
                                    src="./img/main_icon/search.png">
                                <div class="main-new-obj-box-icon-img" style="position: relative;">
                                    <img id="main-new-obj-box-icon-more" class="main-new-obj-box-icon-img"
                                        src="./img/main_icon/more see mini.png">
                                    <div id="new-obj-box-import-excel" style="position: absolute;">Import excel </div>
                                </div>
                            </div>
                        </div>
                        <div class="main-new-obj-box-line">
                        </div>

                        <div id="main-new-obj-box-assets">

                            <div class="main-new-obj-box-inside">
                                <div id="main-new-obj-box-search" style="display: none;">
                                    <div id="new-obj-box-Objlist-search" class="box-Objlist">
                                        <img src="./img/icons/search.png">
                                        <input id="obj-box-Objlist-searching" class="input-box-css inputting"
                                            type="text">
                                        <div id="obj-box-Objlist-searching-clear" class="clearbtn"> </div>

                                    </div>
                                </div>
                                <div id="main-new-obj-box-category">
                                    <div class="obj-box-category-col">
                                        <div class="obj-box-category-col-btn" id="obj-box-category-col-btn-all"
                                            style="background-color: var(--select-background-color);">

                                            <img class="obj-box-category-col-btn-img" src="./img/main_icon/all.png">
                                            <p class="obj-box-category-col-btn-text">all assets</p>
                                        </div>
                                        <div class="obj-box-category-col-btn" id="obj-box-category-col-btn-facility">
                                            <img class="obj-box-category-col-btn-img" src="./img/main_icon/bridge.png">
                                            <p class="obj-box-category-col-btn-text">facility</p>
                                        </div>
                                    </div>
                                    <div class="obj-box-category-col">
                                        <div class="obj-box-category-col-btn" id="obj-box-category-col-btn-device">
                                            <div class="obj-box-category-cover"></div>
                                            <img class="obj-box-category-col-btn-img" src="./img/main_icon/device.png">
                                            <p class="obj-box-category-col-btn-text">device</p>
                                        </div>

                                        <div class="obj-box-category-col-btn" id="obj-box-category-col-btn-building">
                                            <img class="obj-box-category-col-btn-img"
                                                src="./img/main_icon/building.png">
                                            <p class="obj-box-category-col-btn-text">building</p>
                                        </div>
                                    </div>
                                    <div class="obj-box-category-col">

                                        <div class="obj-box-category-col-btn" style="margin: 0;"
                                            id="obj-box-category-col-btn-traffic">
                                            <div class="obj-box-category-cover"></div>
                                            <img class="obj-box-category-col-btn-img" src="./img/main_icon/traffic.png">
                                            <p class="obj-box-category-col-btn-text">traffic</p>
                                        </div>
                                        <div class="obj-box-category-col-btn" id="obj-box-category-col-btn-etc-assets">
                                            <img class="obj-box-category-col-btn-img" src="./img/main_icon/etc.png">
                                            <p class="obj-box-category-col-btn-text">etc assets</p>
                                        </div>
                                    </div>
                                </div>

                                <div id="main-new-obj-box-objlist">
                                    <div id="objlist-control">
                                        <div id="objlist-control-sort">
                                            <!-- <select id="objlist-control-select" onchange="obj_select()">
                                                <option value="1">A->Z</option>
                                                <option value="2">Z->A</option>

                                            </select> -->
                                            <div class="select" tabindex="2" style="border: none;">
                                                <div class="select-box__current" tabindex="2">
                                                    <div class="select-box__value">
                                                        <input class="select-box__input fileSorting" type="radio"
                                                            id="All_seleted3" value="nameSort" name="All_seleted-radio"
                                                            checked="checked" />
                                                        <img class="select-box__input-text"
                                                            src="img/main_icon/atoz.png">

                                                    </div>
                                                    <div class="select-box__value">
                                                        <input class="select-box__input fileSorting" type="radio"
                                                            id="All_seleted4" value="nameReverse"
                                                            name="All_seleted-radio" />
                                                        <img class="select-box__input-text"
                                                            src="img/main_icon/ztoa.png">
                                                    </div>
                                                    <img class="select-box__icon" id="select-box__icon-id"
                                                        src="img/startPageIcons/arrowline 30x30.png" />
                                                </div>
                                                <ul class="select-box__list">
                                                    <li>
                                                        <label class="select-box__option" for="All_seleted3"><img
                                                                src="img/main_icon/atoz.png"> </label>


                                                    </li>
                                                    <li>
                                                        <label class="select-box__option" for="All_seleted4"><img
                                                                src="img/main_icon/ztoa.png"></label>


                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div id="objlist-control-word" style="display: none;">
                                            Related searches
                                        </div>
                                        <div id="new-obj-box-div" class="box-Objlist">
                                            (<label id="new-obj-box-label_num">13</label>)
                                        </div>
                                    </div>
                                    <div id="new-obj-box-list-cover" style="display: none;">
                                        <span id="new-obj-box-list-word">
                                            Even if you place those assets,<br>
                                            they will not be saved as the default<br>
                                            for the map.
                                        </span>
                                    </div>

                                    <div id="new-obj-box-list">

                                    </div>

                                </div>
                                <div id="search-info">
                                    <img src="./img/main_icon/search.png">
                                    <div>Search by name or product category</div>
                                </div>
                            </div>
                        </div>

                        <div id="main-new-obj-box-createobj">
                            <div class="main-new-obj-box-inside" id="main-editor-side-view-property-property">
                                <div id="editor-view-modelProperty-type" class="editor-modelProperty-view">
                                    <label>Type</label>
                                    <div id="editor-modelProperty-type"></div>
                                </div>
                                <div id="editor-view-modelProperty-name" class="editor-modelProperty-view">
                                    <label>Name</label> <input id="editor-modelProperty-name">
                                </div>

                                <div id="editor-view-modelProperty-transform" class="editor-modelProperty-view">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-transform-set"
                                        class="editor-modelProperty-view arrowupdown">
                                        <label>Transform</label> <input type="checkbox"
                                            id="editor-modelProperty-transform-img">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="position-import" class="objectInfoContents inspectorclass ">
                                        <label class="inspectorclass"
                                            style="display: flex; flex-direction: row; align-items: center; margin-bottom: 0.69rem;">
                                            <div class="inspectorclass "
                                                style="width: 0.25rem; height: 0.25rem; border-radius: 0.03rem; background: #D9D9D9; margin-right: 0.75rem;">
                                            </div> location
                                            <img id="help-icon-event" src="./img/main_icon/help.png"
                                                style="width: 0.75rem; height: 0.75rem; margin-left: 0.5rem;">
                                            <div id="help-dropdown">If you do not set a location, it will be created
                                                in the center of the screen.</div>
                                        </label>
                                        <div id="editor-view-modelProperty-adressinfo">
                                            <input type="radio" name="adressinfochange2" class="adressinfo"
                                                id="addressButton2" checked>
                                            <label for="addressButton2" class="custom-radio-button">Address</label>

                                            <input type="radio" name="adressinfochange2" class="adressinfo"
                                                id="latLngButton2">
                                            <label for="latLngButton2" class="custom-radio-button">Latitude and
                                                Longitude</label>
                                        </div>
                                        <input class="input-box-css import-Property-toJson inputting inspectorclass "
                                            type="text" id="transform-import-address" placeholder="address"
                                            onkeypress="return geoGetInspector(event)">
                                        <div class="ObjectInfo_Input">
                                            <div class="ObjectInfo_Input inspectorclass ">
                                                <label class="inspectorclass import-transforms">
                                                    x
                                                    <input type="number" id="transform-import-position_Value_x"
                                                        class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                        placeholder="0.0" />
                                                </label>

                                                <label
                                                    class="inspectorclass import-transforms between-side-transform-input">
                                                    y
                                                    <input type="number" id="transform-import-position_Value_y"
                                                        class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                        placeholder="0.0" />
                                                </label>
                                                <label
                                                    class="inspectorclass import-transforms between-side-transform-input">
                                                    z
                                                    <input type="number" id="transform-import-position_Value_z"
                                                        class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                        placeholder="0.0" />
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="rotation-import" class=" inspectorclass objectInfoContents">
                                        <label class="inspectorclass "
                                            style="display: flex; flex-direction: row; align-items: center; margin-bottom: 0.69rem;">
                                            <div class="inspectorclass "
                                                style="width: 0.25rem ; height: 0.25rem ; border-radius: 0.03rem ; background: #D9D9D9; margin-right: 0.5rem ;">
                                            </div>
                                            rotation
                                        </label>

                                        <div class="inspectorclass ObjectInfo_Input">

                                            <label class="inspectorclass import-transforms">
                                                x
                                                <input type="number" id="transform-import-rotation_Value_x"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>

                                            <label
                                                class="inspectorclass import-transforms between-side-transform-input">
                                                y
                                                <input type="number" id="transform-import-rotation_Value_y"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>
                                            <label
                                                class="inspectorclass import-transforms between-side-transform-input">
                                                z
                                                <input type="number" id="transform-import-rotation_Value_z"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>
                                        </div>

                                    </div>
                                    <div id="scale-import" class="inspectorclass objectInfoContents">
                                        <label class="inspectorclass "
                                            style="display: flex; flex-direction: row; align-items: center; margin-bottom: 0.69rem;">
                                            <div class="inspectorclass "
                                                style="width: 0.25rem ; height: 0.25rem ; border-radius: 0.03rem ; background: #D9D9D9; margin-right: 0.5rem ;">
                                            </div>
                                            scale
                                        </label>
                                        <div class="inspectorclass ObjectInfo_Input">
                                            <label class="inspectorclass import-transforms">
                                                x
                                                <input type="number" id="transform-import-scale_Value_x"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>

                                            <label
                                                class="inspectorclass import-transforms between-side-transform-input">
                                                y
                                                <input type="number" id="transform-import-scale_Value_y"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>
                                            <label
                                                class="inspectorclass import-transforms between-side-transform-input">
                                                z
                                                <input type="number" id="transform-import-scale_Value_z"
                                                    class="inspectorclass inputting ObjectInfo_import_value import-Property-toJson"
                                                    placeholder="0.0" />
                                            </label>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div id="main-new-obj-box-morepage">
                            <div class="import-modelProperty-view">
                                <div id="editor-view-explanation">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-explanation"
                                        class="editor-modelProperty-view arrowupdown">
                                        <label style="margin-left: 1.25rem;">Explanation</label>
                                        <input type="checkbox" id="editor-modelProperty-explanation-img"
                                            style="margin-right: 0.56rem;">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <textarea class="inputting" id="editor-modelProperty-explanation-input"
                                        style="margin-left: 1.25rem; background-color: var(--view-bar-btn-color);"></textarea>
                                </div>
                            </div>
                            <div class="import-modelProperty-view">
                                <div id="editor-view-marker">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-marker"
                                        class="editor-modelProperty-view arrowupdown">
                                        <label style="margin-left: 1.25rem;">Marker</label>
                                        <input type="checkbox" id="editor-modelProperty-marker-img"
                                            style="margin-right: 0.56rem;">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <div class="inputting" id="editor-modelProperty-marker-input"
                                        style="margin-left: 1.25rem;">
                                        <img src="img/main_icon/marker.png"
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                </div>
                            </div>
                            <div class="import-modelProperty-view" style="visibility: hidden;">
                                <div id="editor-view-marker">
                                    <div class="editor-view-line">
                                    </div>
                                    <div id="editor-view-modelProperty-JsonEditor"
                                        class="editor-modelProperty-view arrowupdown">
                                        <label style="margin-left: 1.25rem;">Marker</label>
                                        <input type="checkbox" id="editor-modelProperty-JsonEditor-img"
                                            style="margin-right: 0.56rem;">
                                    </div>
                                    <div class="editor-view-line">
                                    </div>
                                    <textarea class="inputting" id="editor-modelProperty-JsonEditor-input"
                                        style="margin-left: 1.25rem;"></textarea>
                                </div>
                            </div>
                        </div>
                        <div id="main-new-obj-box-upload">
                            <div id="main-new-obj-box-upload-label">
                                Import excel
                                <img id="main-new-obj-box-upload-before" src="./img/main_icon/arrowline 24x24.png">
                            </div>
                            <div id="obj-box-upload">
                                <label style="font-size: 0.875rem;font-weight: 500;">Upload</label>
                                <!-- <input id="new-project-pop-inputImageURL" type="text" placeholder="past in a image URL"> -->
                                <div id="obj-box-upload-inputDragNDrop" class="dragDropDiv" ondrop="dropHandler(event);"
                                    ondragover="dragOverHandler(event);" ondragleave="dragLeaveHandler(event);"
                                    ondragenter="dragEnterHandler(event);">
                                    <!-- class="is-dragover" -->
                                    <div id="dragOverimg-main">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="76" height="57"
                                            viewBox="0 0 76 57" fill="none">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M74.9832 32.3333C74.9939 32.1101 74.9994 31.8855 74.9994 31.6596C74.9994 25.1304 70.4652 19.6603 64.3739 18.226C63.7708 11.3343 58.0821 5.93158 51.1535 5.93158C48.8575 5.93158 46.6978 6.52483 44.8141 7.56891C41.5729 3.56202 36.6162 1 31.0611 1C21.6361 1 13.9337 8.37498 13.4098 17.6689C6.41427 18.5373 1 24.5033 1 31.7338C1 31.9506 1.00487 32.1662 1.01449 32.3806C1.00487 32.5859 1 32.7924 1 33C1 40.1797 6.8203 46 14 46H62C69.1797 46 75 40.1797 75 33C75 32.7764 74.9944 32.5541 74.9832 32.3333Z"
                                                fill="#3988E5" />
                                            <path d="M38 56L38 30" stroke="white" stroke-width="2"
                                                stroke-linecap="round" />
                                            <path
                                                d="M33 34L37.2929 29.7071C37.6834 29.3166 38.3166 29.3166 38.7071 29.7071L43 34"
                                                stroke="white" stroke-width="2" stroke-linecap="round" />
                                        </svg><label>Drop files to upload</label>
                                    </div>
                                    <div id="obj-box-upload-inputDragNDrop-img" class="dragdropChangedImg">
                                        <img src="img/startPageIcons/image 159.png" alt="">
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="46" height="35" viewBox="0 0 46 35"
                                        fill="none">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M18.9839 0.765625C13.3156 0.765625 8.64448 5.03259 8.00665 10.5302C3.87665 11.3572 0.765625 15.0027 0.765625 19.3759C0.765625 19.5009 0.768172 19.6254 0.773221 19.7492C0.768173 19.8683 0.765625 19.9879 0.765625 20.1081C0.765625 24.7154 4.5005 28.4502 9.10772 28.4502H18.947V26.8187H9.10772C5.4016 26.8187 2.3972 23.8143 2.3972 20.1081C2.3972 20.0008 2.39972 19.8941 2.40468 19.7881L2.40643 19.7508L2.40476 19.7134C2.39974 19.6016 2.3972 19.4891 2.3972 19.3759C2.3972 15.607 5.21932 12.496 8.86526 12.0428L9.5409 11.9588L9.57913 11.279C9.85758 6.32731 13.9621 2.3972 18.9839 2.3972C21.9434 2.3972 24.5838 3.76108 26.3121 5.89773L26.7428 6.43026L27.3418 6.0982C28.315 5.55879 29.4298 5.25247 30.6167 5.25247C34.1897 5.25247 37.1445 8.04164 37.458 11.6259L37.5094 12.2136L38.0836 12.3489C41.2498 13.0947 43.6058 15.9392 43.6058 19.3321C43.6058 19.4451 43.6032 19.5575 43.5981 19.6692L43.5962 19.7094L43.5983 19.7496C43.6046 19.8683 43.6077 19.9878 43.6077 20.1081C43.6077 23.8143 40.6033 26.8187 36.8972 26.8187H27.0522V28.4502H36.8972C41.5044 28.4502 45.2393 24.7154 45.2393 20.1081C45.2393 19.9728 45.2361 19.8382 45.2297 19.7043C45.2348 19.5808 45.2374 19.4567 45.2374 19.3321C45.2374 15.3667 42.6171 12.0152 39.0143 10.9114C38.3789 6.79067 34.8716 3.62089 30.6167 3.62089C29.3826 3.62089 28.2086 3.88858 27.1494 4.36989C25.1294 2.15631 22.2188 0.765625 18.9839 0.765625ZM23.8162 19.7616L25.3163 21.2618C25.6349 21.5804 26.1515 21.5804 26.47 21.2618C26.7886 20.9432 26.7886 20.4267 26.47 20.1081L24.1522 17.7902C23.515 17.153 22.4819 17.153 21.8448 17.7902L19.5269 20.1081C19.2083 20.4267 19.2083 20.9432 19.5269 21.2618C19.8455 21.5804 20.362 21.5804 20.6806 21.2618L22.1846 19.7577L22.1846 33.4196C22.1846 33.8702 22.5499 34.2354 23.0004 34.2354C23.451 34.2354 23.8162 33.8702 23.8162 33.4196V19.7616Z"
                                            fill="#E1E1E1" />
                                    </svg>
                                    <label id="obj-box-upload-inputDragNDrop-label">drag and drop</label>
                                    <label id="obj-box-upload-inputDragNDrop-format">supports excel formats</label>
                                    <div id="obj-box-upload-inputDragNDrop-findfile">
                                        <!-- contents-top-btn-import-name import_click-btn-event -->
                                        <label class="" for="obj-box-upload-inputDragNDrop-findfile-input"
                                            style="margin-top: 0;">Find file</label>
                                        <input type="file" accept="image/*" onchange="  previewImage(event) "
                                            id="obj-box-upload-inputDragNDrop-findfile-input">
                                        </input>
                                    </div>
                                </div>
                            </div>
                            <div id="main-new-obj-box-upload-download">
                                <button>
                                    download form
                                </button>
                            </div>
                            <div id="main-new-obj-box-upload-preview">
                                <span>Preview</span>
                                <textarea id="main-new-obj-box-upload-preview-area">

                                </textarea>
                            </div>
                            <div id="editor-view-modelProperty-import-upload" class="import-btn"
                                style="margin-bottom: 0;">
                                <div id="new-obj-box-import-importbtn-upload" class="new-obj-boximport-btn">
                                    import
                                </div>
                            </div>
                        </div>



                        <div id="editor-view-modelProperty-import" class="import-btn">
                            <div id="new-obj-box-import-morebtn">
                                more option
                            </div>
                            <div id="new-obj-box-import-importbtn" class="new-obj-boximport-btn">
                                import
                            </div>
                        </div>



                        <div id="main-new-obj-box-exit" class="main-new-obj-box-all">
                            <img src="./img/icons/cancel-1.png">
                        </div>
                    </div>
                </div>

            </div>

            <div id="info-view">

            </div>
        </div>
        <!-- <div id="loading-view" style="background: #8a8a8a;">
                <div class="loading-animation"></div>
                <div id="loading_text" style="color: black;">SRD</div>
            </div> -->
        <div id="distance" class="distance-container"></div>
        <div class="calculation-box">
            <p id="ptext">Draw a polygon using the draw tools.</p>
            <div id="calculated-area"></div>
        </div>
        <div id="externalContent" style=" border:none; outline:none">
            <div id="modelinfoview"></div>
        </div>
    </div>

    <div id="studio" style="display: none;">
        <div id="top"> <label id="top-label">KRSP100-100V</label></div>

        <div id="mainTool" style="position: relative;">
            <div id="mainTool-objCreate"
                style="position: absolute; top: 2.5rem;    left: 0; width: 100%; height: 100%;">

            </div>

            <div id="rightTools" style="margin-top: 4rem;">
                <img src="img/main_icon/XYz.png"
                    style="width: 4.40969rem; height: 4.375rem;      margin-bottom: 1.75rem;">
                <div class="icons-btn">
                    <div><img src="img/main_icon/plus.png"></div>
                    <div><img src="img/main_icon/minus.png"></div>
                </div>
                <div class="icons-btn">
                    <div><img src="img/main_icon/distance.png"></div>
                    <div><img src="img/main_icon/erase.png"></div>
                </div>
                <div class="icons-btn">
                    <div><img src="img/main_icon/2d.png"></div>
                    <div style="background-color: #3988e5;"><img src="img/main_icon/3d.png"></div>
                </div>
                <div class="icons-btn">
                    <div style="background-color: #3988e5; "><img src="img/main_icon/grid.png"></div>
                </div>

                <div id="studioBablonCanvasModel"
                    style="position: absolute; width: 100%; height: 65rem; top: 50%;left: 50%;     transform: translateX(-50%) translateY(-50%);">
                    <canvas id="studioBablonCanvas" style="width: 100%; height: 100%;">

                    </canvas>
                </div>

            </div>
            <div id="objCreate" style="position: absolute; top: 9rem;">

                <div
                    style="width: 20.625rem;height: 54rem; position: relative; overflow: hidden; border-radius: 0.19rem; background: #202020;">
                    <svg width="3" height="15" viewBox="0 0 3 15" fill="none" xmlns="http://www.w3.org/2000/svg"
                        style="width: 0.19rem; height: 0.94rem; position: absolute; left:19.19rem; top:1.19rem;"
                        preserveAspectRatio="none">
                        <circle cx="1.5" cy="1.5" r="1.5" fill="#DCDCDC"></circle>
                        <circle cx="1.5" cy="7.5" r="1.5" fill="#DCDCDC"></circle>
                        <circle cx="1.5" cy="13.5" r="1.5" fill="#DCDCDC"></circle>
                    </svg><svg width="330" height="3" viewBox="0 0 330 3" fill="none" xmlns="http://www.w3.org/2000/svg"
                        style="position: absolute; left: -0.17rem ; top: 3.02rem ;" preserveAspectRatio="none">
                        <path d="M-1.5 1.5H331.5" stroke="#3F3F3F" stroke-width="1.3"></path>
                    </svg>
                    <p style="  font-size:0.875rem; font-weight: 600; text-align: center; color: #fff;">
                        3D Assets
                    </p>
                </div>
                <div>
                    <div
                        style="width: 8.5625rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center; position: absolute; left: 1.25rem; top: 10.19rem; overflow: hidden; border-radius: 0.19rem; background: #373737;">
                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="width: 2.25rem; height: 2.25rem; margin-left: 0.62rem; margin-right: 0.25rem;"
                            preserveAspectRatio="xMidYMid meet">
                            <g clip-path="url(#clip0_1038_30814)">
                                <path
                                    d="M-848 -19771V-9687.5C-848 -9686.4 -847.105 -9685.5 -846 -9685.5H8264C8265.1 -9685.5 8266 -9684.6 8266 -9683.5V5083.5"
                                    stroke="#D9D9D9" stroke-width="100" stroke-linecap="round"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M18.6463 15.8243C19.9636 15.5298 20.9482 14.3537 20.9482 12.9476C20.9482 11.3197 19.6284 10 18.0005 10C16.3725 10 15.0527 11.3197 15.0527 12.9476C15.0527 14.3537 16.0373 15.5298 17.3546 15.8243C17.3519 15.8486 17.3505 15.8734 17.3505 15.8984V18.5115L14.6749 20.4226C14.6302 20.4545 14.5907 20.4911 14.5566 20.5312H10.5C10.2239 20.5312 10 20.7551 10 21.0312V25.5054C10 25.7815 10.2239 26.0054 10.5 26.0054H14.9744C15.2505 26.0054 15.4744 25.7815 15.4744 25.5054V21.4491L18.0005 19.6448L20.5256 21.4484V25.5054C20.5256 25.7815 20.7495 26.0054 21.0256 26.0054H25.5C25.7761 26.0054 26 25.7815 26 25.5054V21.0312C26 20.7551 25.7761 20.5312 25.5 20.5312H21.4443C21.4102 20.4911 21.3708 20.4545 21.326 20.4226L18.6505 18.5115V15.8984C18.6505 15.8734 18.649 15.8486 18.6463 15.8243Z"
                                    fill="white"></path>
                            </g>
                            <defs>
                                <clipPath id="clip0_1038_30814">
                                    <rect width="36" height="36" rx="3" fill="white"></rect>
                                </clipPath>
                            </defs>
                        </svg>
                        <p style=" font-size:0.875rem;  font-weight: 400; text-align: left; color: #fff;">
                            device
                        </p>
                    </div>
                    <div
                        style="width: 8.56rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center; position: absolute; left:10.81rem; top: 10.19rem; overflow: hidden; border-radius: 0.19rem; background: #373737;">

                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="width: 2.25rem; height: 2.25rem; margin-left: 0.62rem; margin-right: 0.25rem;"
                            preserveAspectRatio="xMidYMid meet">
                            <path
                                d="M11.1507 12.5333C11.7228 11.2938 12.9634 10.5 14.3286 10.5H21.6714C23.0366 10.5 24.2772 11.2938 24.8493 12.5333L26.2185 15.5H9.78145L11.1507 12.5333Z"
                                stroke="white"></path>
                            <path d="M9 23H12V24.5C12 25.3284 11.3284 26 10.5 26C9.67157 26 9 25.3284 9 24.5V23Z"
                                fill="white"></path>
                            <path d="M24 23H27V24.5C27 25.3284 26.3284 26 25.5 26C24.6716 26 24 25.3284 24 24.5V23Z"
                                fill="white"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8 18.2189C8 16.6307 9.23763 15.3184 10.8241 15.2436C12.9304 15.1443 15.8096 15.0312 18 15.0312C20.1904 15.0312 23.0696 15.1443 25.1759 15.2436C26.7624 15.3184 28 16.6307 28 18.2189V22.2969C28 22.8492 27.5523 23.2969 27 23.2969H9C8.44772 23.2969 8 22.8492 8 22.2969V18.2189ZM9 17.8694C9 17.4014 9.40002 17.0333 9.86644 17.0722L12.2664 17.2722C12.6811 17.3068 13 17.6534 13 18.0694V18.2C13 18.6418 12.6418 19 12.2 19H9.8C9.35817 19 9 18.6418 9 18.2V17.8694ZM26.1336 17.0722C26.6 17.0333 27 17.4014 27 17.8694V18.2C27 18.6418 26.6418 19 26.2 19H23.8C23.3582 19 23 18.6418 23 18.2V18.0694C23 17.6534 23.3189 17.3068 23.7336 17.2722L26.1336 17.0722Z"
                                fill="white"></path>
                            <path
                                d="M7 14.8378C7 14.5872 7.18552 14.3753 7.43392 14.3421L9.43392 14.0755C9.73366 14.0355 10 14.2687 10 14.5711V15.5C10 15.7761 9.77614 16 9.5 16H7.5C7.22386 16 7 15.7761 7 15.5V14.8378Z"
                                fill="white"></path>
                            <path
                                d="M26 14.5711C26 14.2687 26.2663 14.0355 26.5661 14.0755L28.5661 14.3421C28.8145 14.3753 29 14.5872 29 14.8378V15.5C29 15.7761 28.7761 16 28.5 16H26.5C26.2239 16 26 15.7761 26 15.5V14.5711Z"
                                fill="white"></path>
                        </svg>
                        <p style=" font-size:0.875rem;   font-weight: 400; text-align: left; color: #fff;">
                            traffic
                        </p>
                    </div>
                    <div
                        style="width: 8.56rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center; position:  absolute; left: 1.25rem; top: 7.44rem; overflow: hidden; border-radius: 0.19rem; background: #373737;">

                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="width: 2.25rem; height: 2.25rem; margin-left: 0.62rem; margin-right: 0.25rem;"
                            preserveAspectRatio="xMidYMid meet">
                            <ellipse cx="18" cy="18" rx="2" ry="2" transform="rotate(90 18 18)" fill="white"></ellipse>
                            <path d="M14.9993 21C13.499 20 12.499 17 14.9993 15" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                            <path d="M12 23C10.0295 21.3333 8.71605 16.3333 12 13" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                            <path d="M24 13C25.9705 14.6667 27.284 19.6667 24 23" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                            <path d="M27 11C29.9557 13.3333 31.9259 20.3333 27 25" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                            <path d="M9 25C6.04425 22.6667 4.07407 15.6667 9 11" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                            <path d="M21.0007 15C22.501 16 23.501 19 21.0007 21" stroke="white" stroke-width="1.3"
                                stroke-linecap="round"></path>
                        </svg>
                        <p style=" font-size:0.875rem;  font-weight: 400; text-align: left; color: #fff;">
                            sensor
                        </p>
                    </div>
                    <div
                        style="width: 8.56rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center;  position: absolute; left:10.81rem; top: 7.44rem; overflow: hidden; border-radius: 0.19rem; background: #373737;">

                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="width: 2.25rem; height: 2.25rem;margin-left: 0.62rem; margin-right: 0.25rem;"
                            preserveAspectRatio="xMidYMid meet">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8 10C8 9.44772 8.44772 9 9 9H19.1429C19.6951 9 20.1429 9.44772 20.1429 10V27.5714H15.8571V23.7857C15.8571 23.5096 15.6333 23.2857 15.3571 23.2857H12.7857C12.5096 23.2857 12.2857 23.5096 12.2857 23.7857V27.5714H8V10ZM9.42857 12.3571C9.42857 12.081 9.65243 11.8571 9.92857 11.8571H11.0714C11.3476 11.8571 11.5714 12.081 11.5714 12.3571V13.5C11.5714 13.7761 11.3476 14 11.0714 14H9.92857C9.65243 14 9.42857 13.7761 9.42857 13.5V12.3571ZM9.92857 15.4286C9.65243 15.4286 9.42857 15.6524 9.42857 15.9286V17.0714C9.42857 17.3476 9.65243 17.5714 9.92857 17.5714H11.0714C11.3476 17.5714 11.5714 17.3476 11.5714 17.0714V15.9286C11.5714 15.6524 11.3476 15.4286 11.0714 15.4286H9.92857ZM9.42857 19.5C9.42857 19.2239 9.65243 19 9.92857 19H11.0714C11.3476 19 11.5714 19.2239 11.5714 19.5V20.6429C11.5714 20.919 11.3476 21.1429 11.0714 21.1429H9.92857C9.65243 21.1429 9.42857 20.919 9.42857 20.6429V19.5ZM13.5 11.8571C13.2239 11.8571 13 12.081 13 12.3571V13.5C13 13.7761 13.2239 14 13.5 14H14.6429C14.919 14 15.1429 13.7761 15.1429 13.5V12.3571C15.1429 12.081 14.919 11.8571 14.6429 11.8571H13.5ZM13 15.9286C13 15.6524 13.2239 15.4286 13.5 15.4286H14.6429C14.919 15.4286 15.1429 15.6524 15.1429 15.9286V17.0714C15.1429 17.3476 14.919 17.5714 14.6429 17.5714H13.5C13.2239 17.5714 13 17.3476 13 17.0714V15.9286ZM13.5 19C13.2239 19 13 19.2239 13 19.5V20.6429C13 20.919 13.2239 21.1429 13.5 21.1429H14.6429C14.919 21.1429 15.1429 20.919 15.1429 20.6429V19.5C15.1429 19.2239 14.919 19 14.6429 19H13.5ZM17.0714 11.8571C16.7953 11.8571 16.5714 12.081 16.5714 12.3571V13.5C16.5714 13.7761 16.7953 14 17.0714 14H18.2143C18.4904 14 18.7143 13.7761 18.7143 13.5V12.3571C18.7143 12.081 18.4904 11.8571 18.2143 11.8571H17.0714ZM16.5714 15.9286C16.5714 15.6524 16.7953 15.4286 17.0714 15.4286H18.2143C18.4904 15.4286 18.7143 15.6524 18.7143 15.9286V17.0714C18.7143 17.3476 18.4904 17.5714 18.2143 17.5714H17.0714C16.7953 17.5714 16.5714 17.3476 16.5714 17.0714V15.9286ZM17.0714 19C16.7953 19 16.5714 19.2239 16.5714 19.5V20.6429C16.5714 20.919 16.7953 21.1429 17.0714 21.1429H18.2143C18.4904 21.1429 18.7143 20.919 18.7143 20.6429V19.5C18.7143 19.2239 18.4904 19 18.2143 19H17.0714Z"
                                fill="white"></path>
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M26.9978 15.4297H20.1406V27.5725H22.2835V25.2154C22.2835 24.9393 22.5073 24.7154 22.7835 24.7154H24.6406C24.9168 24.7154 25.1406 24.9393 25.1406 25.2154V27.5725H27.9978V16.4297C27.9978 15.8774 27.5501 15.4297 26.9978 15.4297ZM26.5692 17.3583C26.5692 17.0821 26.3453 16.8583 26.0692 16.8583L21.3549 16.8583C21.0788 16.8583 20.8549 17.0821 20.8549 17.3583L20.8549 17.7868C20.8549 18.063 21.0788 18.2868 21.3549 18.2868L26.0692 18.2868C26.3453 18.2868 26.5692 18.063 26.5692 17.7868V17.3583ZM26.5692 20.2154C26.5692 19.9393 26.3453 19.7154 26.0692 19.7154H21.3549C21.0788 19.7154 20.8549 19.9393 20.8549 20.2154L20.8549 20.644C20.8549 20.9201 21.0788 21.144 21.3549 21.144L26.0692 21.144C26.3453 21.144 26.5692 20.9201 26.5692 20.644V20.2154Z"
                                fill="white"></path>
                        </svg>
                        <p style="font-size:0.875rem;  font-weight: 400; text-align: left; color: #fff;">
                            building
                        </p>
                    </div>
                    <div
                        style="width: 8.56rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center; position: absolute; left: 1.25rem; top: 4.69rem; overflow: hidden; border-radius: 0.19rem; background: #3988e5;">

                        <div
                            style="width: 2.25rem; height: 2.25rem; margin-left: 0.62rem; margin-right: 0.25rem; overflow: hidden;  display: flex; flex-direction: row; align-items: center; justify-content: center; border-radius: 0.19rem;">
                            <p style=" font-size: 0.81rem; font-weight: 600; text-align: center; color: #fff;">
                                ALL
                            </p>
                        </div>
                        <p style="font-size:0.875rem; text-align: left;  font-weight: 400;color: #fff;">
                            all assets
                        </p>
                    </div>
                    <div
                        style="width: 8.56rem; height: 2.25rem; display: flex; flex-direction: row; align-items: center; position: absolute; left:10.81rem; top: 4.69rem; overflow: hidden; border-radius: 0.19rem; background: #373737;">

                        <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"
                            style="width: 2.25rem; height: 2.25rem; margin-left: 0.62rem; margin-right: 0.25rem;"
                            preserveAspectRatio="xMidYMid meet">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M9.45374 10H9.23533L9.06124 10.1319L6.52937 12.05C6.24322 12.2667 6.18699 12.6744 6.40376 12.9606C6.62054 13.2467 7.02824 13.303 7.31438 13.0862L7.84766 12.6822V20.2403H6.5C6.22386 20.2403 6 20.4642 6 20.7403V21.6584C6 21.9345 6.22386 22.1584 6.5 22.1584H9.69141V24.0765H11.5376V22.1584L24.4609 22.1584V24.0765H26.3071V22.1584H29.5C29.7761 22.1584 30 21.9345 30 21.6584V20.7403C30 20.4642 29.7761 20.2403 29.5 20.2403H28.1535V12.6849L28.6832 13.0862C28.9694 13.303 29.3771 13.2467 29.5938 12.9606C29.8106 12.6744 29.7544 12.2667 29.4682 12.05L26.9364 10.1319L26.7623 10H26.5439H24.3285H23.8935L23.7276 10.4021C23.5159 10.9154 22.9022 11.7851 21.9069 12.5262C20.9251 13.2572 19.6076 13.8362 17.9988 13.8362C16.39 13.8362 15.0725 13.2572 14.0907 12.5262C13.0954 11.7851 12.4817 10.9154 12.27 10.4021L12.1041 10H11.6691H9.45374ZM27.2305 11.9856L26.3254 11.3H26.3071V20.2403H27.2305V11.9856ZM24.4609 11.7425C24.0513 12.3427 23.4499 12.9982 22.6832 13.569C22.6605 13.5859 22.6376 13.6028 22.6145 13.6196V20.2403H24.4609V11.7425ZM21.6914 14.2019C21.139 14.5002 20.5221 14.7495 19.845 14.9153V20.2403H21.6914V14.2019ZM18.9219 15.0821C18.6238 15.1174 18.316 15.1362 17.9988 15.1362C17.6814 15.1362 17.3736 15.1173 17.0754 15.0821V20.2403L18.9219 20.2403V15.0821ZM16.1523 14.9152C15.4752 14.7494 14.8583 14.5001 14.3059 14.2017V20.2403H16.1523V14.9152ZM13.3828 13.6194C13.3598 13.6026 13.337 13.5858 13.3144 13.569C12.5483 12.9986 11.9471 12.3437 11.5376 11.7438V20.2403H13.3828V13.6194ZM9.69141 11.3H9.67216L8.77073 11.9829V20.2403H9.69141V11.3ZM24.3946 24.0812C24.1635 24.0812 23.9625 24.2395 23.9084 24.4642L23.6875 25.3823C23.6118 25.6968 23.8502 25.9992 24.1736 25.9992H26.5968C26.9202 25.9992 27.1586 25.6968 27.0829 25.3823L26.862 24.4642C26.8079 24.2395 26.607 24.0812 26.3759 24.0812H24.3946ZM9.1389 24.4642C9.19297 24.2395 9.39394 24.0812 9.62503 24.0812H11.6063C11.8374 24.0812 12.0384 24.2395 12.0925 24.4642L12.3134 25.3823C12.3891 25.6968 12.1507 25.9992 11.8273 25.9992H9.40412C9.08065 25.9992 8.84232 25.6968 8.91799 25.3823L9.1389 24.4642Z"
                                fill="white"></path>
                        </svg>
                        <p style="font-size:0.875rem;  font-weight: 400; text-align: left; color: #fff;">
                            facility
                        </p>
                    </div>
                    <div
                        style="width: 18.13rem; height: 1.88rem; position: absolute; display: flex; flex-direction: row; align-items: center; justify-content: space-between; left: 1.25rem; top: 13.69rem; overflow: hidden; border-radius: 0.13rem;">
                        <p style="width: 5.06rem; font-size:0.875rem; text-align: left; color: #fff;">
                            A -> Z
                        </p>
                        <p id="obj-counting" style="font-size:0.875rem; text-align: right; color: #fff;">
                            (1)
                        </p>
                        </svg><svg width="30" height="30" viewBox="0 0 30 30" fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            style="width: 1.88rem; height: 1.88rem; position: absolute; left: 3.19rem ; top: 0;"
                            preserveAspectRatio="xMidYMid meet">
                            <path d="M11 13L14.8586 16.8586C14.9367 16.9367 15.0633 16.9367 15.1414 16.8586L19 13"
                                stroke="white" stroke-linecap="round"></path>
                        </svg>
                    </div>
                    <div style="width: 18.12rem; height: 80%; position: absolute; left: 1.25rem; top: 15.875rem; ">
                        <div id="objList-create-studio" style="width: 18.12rem; height: 37rem; position: absolute;">


                        </div>
                    </div>
                </div>
            </div>

            <div id="modeChanged" style="position: absolute; top: 4rem;  ">
                <div id="modeChanged-view">view</div>
                <div id="modeChanged-editor">editor</div>
            </div>

            <div id="markEditor" style="display: none; position: absolute; top: 9rem; left: 1rem;">
                <div style="width: 20.625rem;height: 54rem;  border-radius: 0.19rem; background: #202020;">

                    <img style="width: 100%; height: 100%;  image-rendering: pixelated; "
                        src="img/main_icon/모델링 생성 25.png">
                </div>
            </div>

        </div>

        <div id="top-tool" style="position: absolute; width: 100%; top: 2.5rem;left: 50%; transform: translateX(-50%) ; ">
            <div id="top-tool-category">
                <div id="top-tool-category-editor">3d editor</div>
                <div id="top-tool-category-data">Data</div>
                <div id="top-tool-category-Animation">Animation</div>
            </div>
            <div id="top-tool-icon"><input type="checkbox" id="objCreate_btn"
                    style="background-image: url(./img/main_icon/modeling.png);" checked><input id="markerEditor_btn"
                    type="checkbox" style="background-image: url(./img/main_icon/mark\ editor.png);">
                <div id="colLine"></div> <input type="checkbox"
                    style="background-image: url(./img/main_icon/pause\ mini.png);"><input type="checkbox"
                    style="background-image: url(./img/main_icon/ani\ reset\ mini.png);">
            </div>
            <div id="top-tool-right">
                <div id="lastTime"><label id="lastTimeText">last save time:</label><label id="lastTimeValue">12.26
                        09:55:15</label></div>
                <div id="top-tool-right-save">save</div><img id="exit-tool" style="width: 3rem; height: 3rem;"
                    src="img/main_icon/cancel.png">
            </div>
        </div>

        <template id="population_density-cctv-div-template">
            <div class="population_density-cctv-div widget-clicked-view">
                <div class="population_density-cctv-div-title">
                    <img src="img/bridgePage/Frame 10366.png">
                    <label>CCTV : </label>
                    <label class="population_density-cctv-div-title-position">계단 3 방면</label>
                </div>
                <div class="population_density-cctv-view">
                    <div class="population_density-cctv-view-container">
                        <video id="video" class="videocctv" data-id="video" muted controls>
                            
                    </div>
                    <!-- <source src="http://210.99.70.120:1935/live/cctv001.stream/playlist.m3u8" type="application/x-mpegURL"> -->
                    </video>
                    <!-- <video data-id="video" width="310" autoplay muted src="blob:https://map.kakao.com/7658922d-4fca-4fa0-9901-eed186a28bdd"></video> -->
                    <!-- <img src="./img/bridgePage/image 30.png"> -->
                </div>
            </div>
        </template>
        <template id="viewer-OBJ-setFunc-Template">
            <div class="viewer-OBJ-setFunc">
                <div class="viewer-OBJ-setFunc-labeling">
                    <svg class="viewer-OBJ-setFunc-svg-clicked" xmlns="http://www.w3.org/2000/svg" width="40"
                        height="40" viewBox="0 0 40 40" fill="none">
                        <rect width="40" height="40" rx="20" fill="#3988E5" />
                        <path
                            d="M24.8 29H12.5C12.2239 29 12 28.7761 12 28.5V11.5C12 11.2239 12.2239 11 12.5 11H24.8M24.8 29V11M24.8 29H27.5C27.7761 29 28 28.7761 28 28.5V13.2771C28 13.1047 27.9112 12.9445 27.765 12.8531L24.8 11"
                            stroke="white" stroke-width="1.5" stroke-linecap="round" />
                        <mask id="path-3-inside-1_1680_17578" fill="white">
                            <rect x="14" y="24" width="6" height="3" rx="0.5" />
                        </mask>
                        <rect x="14" y="24" width="6" height="3" rx="0.5" stroke="white" stroke-width="2"
                            mask="url(#path-3-inside-1_1680_17578)" />
                        <path
                            d="M15.1253 11C14.8347 11.7738 14.8638 13.8786 17.3053 16.1071C20.3573 18.8929 23.192 17.2857 24.5 21"
                            stroke="white" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M20.265 16.6364C20.265 16.9522 19.9879 17.2727 19.565 17.2727C19.1421 17.2727 18.865 16.9522 18.865 16.6364C18.865 16.3205 19.1421 16 19.565 16C19.9879 16 20.265 16.3205 20.265 16.6364ZM18 15.9963C18.4755 16.6181 19.2456 17.5375 19.9911 18.2209C20.7238 18.0389 21.265 17.3985 21.265 16.6364C21.265 15.7326 20.5039 15 19.565 15C18.8621 15 18.2588 15.4107 18 15.9963Z"
                            fill="white" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M19.1074 13.3744V12.9016H20.0924V13.3759C20.0924 13.6452 20.2685 13.8665 20.5014 13.9484C20.5956 13.9815 20.6875 14.0196 20.7767 14.0626C20.9994 14.1697 21.2807 14.1378 21.4712 13.9473L21.8048 13.6137L22.5013 14.3101L22.1681 14.6433C21.9775 14.8339 21.9457 15.1154 22.0531 15.3382C22.0964 15.4281 22.1349 15.5207 22.1682 15.6157C22.2501 15.8487 22.4714 16.0249 22.7407 16.0249H23.214V17.0098H22.7415C22.472 17.0098 22.2506 17.1863 22.1689 17.4195C22.1356 17.5144 22.0973 17.6069 22.0541 17.6967C21.9497 17.9139 21.9775 18.1867 22.1555 18.3767C22.2505 18.432 22.3363 18.4826 22.4109 18.5274L23.2141 18.929L23.1705 19.1903L23.211 19.1498C23.4453 18.9155 23.4453 18.5356 23.211 18.3013L22.8309 17.9212C22.8469 17.8844 22.8623 17.8473 22.8771 17.8098H23.414C23.7454 17.8098 24.014 17.5412 24.014 17.2098V15.8249C24.014 15.4935 23.7454 15.2249 23.414 15.2249H22.8762C22.8613 15.1873 22.8458 15.15 22.8298 15.1131L23.2084 14.7344C23.4427 14.5001 23.4427 14.1202 23.2084 13.8859L22.2291 12.9066C21.9948 12.6723 21.6149 12.6723 21.3806 12.9066L21.0014 13.2858C20.9654 13.2701 20.929 13.255 20.8924 13.2405V12.7016C20.8924 12.3702 20.6237 12.1016 20.2924 12.1016H18.9074C18.576 12.1016 18.3074 12.3702 18.3074 12.7016V13.2388C18.2688 13.254 18.2305 13.2698 18.1926 13.2863L17.8116 12.9054C17.5773 12.6711 17.1974 12.6711 16.9631 12.9054L16.0586 13.8099C16.3376 14.1934 16.7414 14.7116 17.1852 15.2172C17.2328 15.0204 17.1836 14.8016 17.0265 14.6446L16.6909 14.309L17.3874 13.6125L17.7228 13.9479C17.9134 14.1385 18.1948 14.1703 18.4176 14.0631C18.5082 14.0194 18.6016 13.9806 18.6975 13.9471C18.9308 13.8654 19.1074 13.644 19.1074 13.3744Z"
                            fill="white" />
                    </svg>
                    <svg class="viewer-OBJ-setFunc-svg" xmlns="http://www.w3.org/2000/svg" width="40" height="40"
                        viewBox="0 0 40 40" fill="none">
                        <path
                            d="M24.8 29H12.5C12.2239 29 12 28.7761 12 28.5V11.5C12 11.2239 12.2239 11 12.5 11H24.8M24.8 29V11M24.8 29H27.5C27.7761 29 28 28.7761 28 28.5V13.2771C28 13.1047 27.9112 12.9445 27.765 12.8531L24.8 11"
                            stroke="#4E4E4E" stroke-width="1.5" stroke-linecap="round" />
                        <mask id="path-3-inside-1_1680_17608" fill="white">
                            <rect x="14" y="24" width="6" height="3" rx="0.5" />
                        </mask>
                        <rect x="14" y="24" width="6" height="3" rx="0.5" stroke="#4E4E4E" stroke-width="2"
                            mask="url(#path-3-inside-1_1680_17608)" />
                        <path
                            d="M15.1253 11C14.8347 11.7738 14.8638 13.8786 17.3053 16.1071C20.3573 18.8929 23.192 17.2857 24.5 21"
                            stroke="#4E4E4E" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M20.265 16.6364C20.265 16.9522 19.9879 17.2727 19.565 17.2727C19.1421 17.2727 18.865 16.9522 18.865 16.6364C18.865 16.3205 19.1421 16 19.565 16C19.9879 16 20.265 16.3205 20.265 16.6364ZM18 15.9963C18.4755 16.6181 19.2456 17.5375 19.9911 18.2209C20.7238 18.0389 21.265 17.3985 21.265 16.6364C21.265 15.7326 20.5039 15 19.565 15C18.8621 15 18.2588 15.4107 18 15.9963Z"
                            fill="#4E4E4E" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M19.1074 13.3744V12.9016H20.0924V13.3759C20.0924 13.6452 20.2685 13.8665 20.5014 13.9484C20.5956 13.9815 20.6875 14.0196 20.7767 14.0626C20.9994 14.1697 21.2807 14.1378 21.4712 13.9473L21.8048 13.6137L22.5013 14.3101L22.1681 14.6433C21.9775 14.8339 21.9457 15.1154 22.0531 15.3382C22.0964 15.4281 22.1349 15.5207 22.1682 15.6157C22.2501 15.8487 22.4714 16.0249 22.7407 16.0249H23.214V17.0098H22.7415C22.472 17.0098 22.2506 17.1863 22.1689 17.4195C22.1356 17.5144 22.0973 17.6069 22.0541 17.6967C21.9497 17.9139 21.9775 18.1867 22.1555 18.3767C22.2505 18.432 22.3363 18.4826 22.4109 18.5274L23.2141 18.929L23.1705 19.1903L23.211 19.1498C23.4453 18.9155 23.4453 18.5356 23.211 18.3013L22.8309 17.9212C22.8469 17.8844 22.8623 17.8473 22.8771 17.8098H23.414C23.7454 17.8098 24.014 17.5412 24.014 17.2098V15.8249C24.014 15.4935 23.7454 15.2249 23.414 15.2249H22.8762C22.8613 15.1873 22.8458 15.15 22.8298 15.1131L23.2084 14.7344C23.4427 14.5001 23.4427 14.1202 23.2084 13.8859L22.2291 12.9066C21.9948 12.6723 21.6149 12.6723 21.3806 12.9066L21.0014 13.2858C20.9654 13.2701 20.929 13.255 20.8924 13.2405V12.7016C20.8924 12.3702 20.6237 12.1016 20.2924 12.1016H18.9074C18.576 12.1016 18.3074 12.3702 18.3074 12.7016V13.2388C18.2688 13.254 18.2305 13.2698 18.1926 13.2863L17.8116 12.9054C17.5773 12.6711 17.1974 12.6711 16.9631 12.9054L16.0586 13.8099C16.3376 14.1934 16.7414 14.7116 17.1852 15.2172C17.2328 15.0204 17.1836 14.8016 17.0265 14.6446L16.6909 14.309L17.3874 13.6125L17.7228 13.9479C17.9134 14.1385 18.1948 14.1703 18.4176 14.0631C18.5082 14.0194 18.6016 13.9806 18.6975 13.9471C18.9308 13.8654 19.1074 13.644 19.1074 13.3744Z"
                            fill="#4E4E4E" />
                    </svg>
                </div>
                <div id="viewer-OBJ-setFunc-chart">
                    <svg class="viewer-OBJ-setFunc-svg-clicked" xmlns="http://www.w3.org/2000/svg" width="40"
                        height="40" viewBox="0 0 40 40" fill="none">
                        <rect width="40" height="40" rx="20" fill="#3988E5" />
                        <path d="M10 28L30 28" stroke="white" stroke-width="1.3" stroke-linecap="round" />
                        <rect x="12" y="21" width="4" height="7" rx="0.3" fill="white" stroke="white"
                            stroke-width="0.3" />
                        <rect x="18" y="15" width="4" height="13" rx="0.3" fill="white" stroke="white"
                            stroke-width="0.3" />
                        <rect x="24" y="10" width="4" height="18" rx="0.3" fill="white" stroke="white"
                            stroke-width="0.3" />
                    </svg>
                    <svg class="viewer-OBJ-setFunc-svg" xmlns="http://www.w3.org/2000/svg" width="40" height="40"
                        viewBox="0 0 40 40" fill="none">
                        <path d="M10 28L30 28" stroke="#4E4E4E" stroke-width="1.3" stroke-linecap="round" />
                        <rect x="12" y="21" width="4" height="7" rx="0.3" fill="#4E4E4E" stroke="#4E4E4E"
                            stroke-width="0.3" />
                        <rect x="18" y="15" width="4" height="13" rx="0.3" fill="#4E4E4E" stroke="#4E4E4E"
                            stroke-width="0.3" />
                        <rect x="24" y="10" width="4" height="18" rx="0.3" fill="#4E4E4E" stroke="#4E4E4E"
                            stroke-width="0.3" />
                    </svg>
                </div>
                <div id="viewer-OBJ-setFunc-info">
                    <svg class="viewer-OBJ-setFunc-svg-clicked" xmlns="http://www.w3.org/2000/svg" width="40"
                        height="40" viewBox="0 0 40 40" fill="none">
                        <rect width="40" height="40" rx="20" fill="#3988E5" />
                        <circle cx="20" cy="20" r="10.25" stroke="white" stroke-width="1.5" />
                        <circle cx="20.5" cy="15.5" r="1.5" fill="white" />
                        <path
                            d="M22.4783 18L17 18.3632V19.3778C17.2609 19.3173 19.087 19.0533 19.087 19.6345C19.087 20.3609 16.8621 24.8048 17.6277 25.939C19.4195 28.5935 22.6522 25.6276 23 23.9931C22.7391 24.2958 21.9043 24.9012 20.6522 24.9012C19.4 24.9012 21.3478 20.3004 22.4783 18Z"
                            fill="white" />
                    </svg>
                    <svg class="viewer-OBJ-setFunc-svg" xmlns="http://www.w3.org/2000/svg" width="40" height="40"
                        viewBox="0 0 40 40" fill="none">
                        <circle cx="20" cy="20" r="10.25" stroke="#4E4E4E" stroke-width="1.5" />
                        <circle cx="20.5" cy="15.5" r="1.5" fill="#4E4E4E" />
                        <path
                            d="M22.4783 18L17 18.3632V19.3778C17.2609 19.3173 19.087 19.0533 19.087 19.6345C19.087 20.3609 16.8621 24.8048 17.6277 25.939C19.4195 28.5935 22.6522 25.6276 23 23.9931C22.7391 24.2958 21.9043 24.9012 20.6522 24.9012C19.4 24.9012 21.3478 20.3004 22.4783 18Z"
                            fill="#4E4E4E" />
                    </svg>
                </div>
            </div>
        </template>

        <template id="obj-Template">
            <div class="obj-div"
                style="width: 8.56rem; height: 9.31rem ; border-radius: 0.13rem; background: #ededed; display: flex; flex-direction: column;  align-items: center; ">
                <model-viewer class="obj-view" src=""
                    style="width: 8.5625rem; height: 7.06rem; background: #ffffff;"></model-viewer>

                <label class="obj-label"
                    style="align-items: center; color: #000;text-align: center;font-size: 0.8125rem;font-style: normal; padding: 0.56rem 0; font-weight: 500;">
                    smart pole
                </label>
            </div>
        </template>
    </div>

    <div class="studio-obj-func"
        style="display: none; position: absolute; z-index: 200; top: 10rem;
     left: 50%; transform: translateX(-50%); width: 14.875rem; height: 1.5rem; padding: 0.3125rem 0.375rem;justify-content: center;align-items: center; border-radius: 3.125rem;background: #303030; justify-content: space-between;">
        <img id="studio-obj-func-scale" src="./img/main_icon/scale mini.png">
        <img id="studio-obj-func-rotate" src="./img/main_icon/rotation mini.png">
        <img id="studio-obj-func-move" src="./img/main_icon/move mini.png">
        <img id="studio-obj-func-delete" src="./img/main_icon/deleted mini.png">
        <img id="studio-obj-func-info" src="./img/main_icon/information mini.png">
        <img id="studio-obj-func-more" src="./img/main_icon/more see mini.png">
    </div>
    <template id="tagLayoutTemplate">
        <div class="categoryBtn-tagLists-tag"><label>d</label><img src="img/main_icon/cancel mini 20x20 circle.png"
                onclick="tagDel(event)"></div>
    </template>
    <template id="obj-info-view-template">
        <div class="obj-info-view">
            <div class="obj-info-view-round">

            </div>
            <div class="obj-info-view-box">
                <img class="obj-info-view-box-machine" src="./img/main_icon/machine.png">
                <div class="textbox">
                    <span id="textbox-realname" style="display: none;"></span>
                    <span class="textbox-name"></span>
                    <span class="textbox-location"></span>
                </div>
                <div id="moreinfo-btn">
                    <img class="obj-info-view-box-right" src="./img/main_icon/right.png">
                </div>
            </div>
        </div>
    </template>
    <template id="obj-studio-view-template">

        <div class="obj-studio-view">
            <img class="obj-studio-view_dataEvnet" src="img/main_icon/data event.png">
            <img class="obj-studio-view_delete" src="img/main_icon/deleted mini.png">
        </div>
    </template>

    <template id="manage-user-password">
        <div id="manage-user-div">
            <input type="button" id="manager-user-clear-btn">
            <span>Permission is required to edit maps</span>
            <input type="password" placeholder="pass word" id="manage-user-password-input"
                onkeypress="return checkpassword(event)">
        </div>
    </template>
    <template id="new-memo-template">
        <div class="new-memo-div">
            <div id="new-memo-control-btn">
                <div id="new-memo-control-btn-calender" class="model-view-option-calender"></div>
                <img id="new-memo-morebtn" src="./img/view_icon/more.png">
            </div>



            <div id="new-memo-control">
                <div id="new-memo-delete" class="new-memo-btn">delete</div>
            </div>
            <div id="new-memo-open">
                <input type="checkbox" id="new-memo-open-btn">
            </div>

            <div id="new-memo-write">
                <textarea readonly placeholder="Please enter text" id="new-memo-realwrite"></textarea>
            </div>
        </div>

    </template>
    <div id="new-memo-write-div">
        <img id="new-memo-write-canclebtn" src="./img/view_icon/cancel.png">
        <textarea id="new-memo-write-area">

        </textarea>
    </div>


    <template id="objectViewerVier_template">
        <div id="overlap-wrapper">
            <div id="modelinfo-view-background"></div>
            <div id="modelinfo-view-background-img"></div>
            <div id="modelinfo-view-background-topimg"></div>
            <div id="modelinfo-view-firstpage">
                <div id="model-view-leftside">

                    <div id="modelinfo-view-model">

                        <div id="view-model">
                            <canvas id="renderCanvas" touch-action="none"></canvas>
                            <!-- <img id="view-model-control-btn" src="./img/icons/around360.png"> -->
                        </div>
                        <div id="modelinfo-view-title">
                            <div id="modelinfo-view-title-TypeImg"><img src="./img/view_icon/titleinfo.png"></div>
                            <div id="modelinfo-view-title-bottom">
                                <div class="modelinfo-view-title-bottom-name">KAISHAN COMPRESSOR USA, LLC</div>

                            </div>
                        </div>
                        <div class="model-view-icon" id="model-view-icon-grid">
                            <input type="checkbox" id="icon-grid-checkbox">
                            <!-- class="model-view-checkbox model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-icon-grid">Gird</div> -->
                        </div>
                        000
                    </div>
                    <div class="icon-group-left">

                        <div class="model-view-icon" id="model-view-icon-internal-device">
                            <input type="checkbox" id="internal-device-checkbox"
                                class="model-view-checkbox model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-internal-device">Internal
                                device</div>
                        </div>
                        <div class="model-view-icon" id="model-view-icon-lock">
                            <input type="checkbox" id="lock-checkbox"
                                class="model-view-checkbox model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-lock">Memo</div>
                        </div>
                        <div class="model-view-icon" id="videoplay-group-icon-Data">
                            <input type="checkbox" id="videodata-checkbox" class=" model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-data">Data</div>
                        </div>
                        <div class="model-view-icon " id="videoplay-group-icon-internal-device">
                            <input type="checkbox" id="videoplay-checkbox"
                                class="videoplay-group-checkbox model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-play">Play</div>
                        </div>
                        <div class="model-view-icon" id="model-view-icon-reset">
                            <input type="checkbox" id="reset-checkbox"
                                class="videoplay-group-checkbox model-view-checkbox-click">
                            <div class="model-view-icon-text" id="model-view-icon-text-reset">Reset</div>
                        </div>

                    </div>
                </div>

                <div id="model-view-rightside">
                    <div id="model-view-rightside-style">



                        <div id="model-view-group-right">
                            <div class="model-view-info">
                                <div>

                                </div>
                                <div class="model-view-info-slider">
                                    <input type="radio" id="model-slider-basic" class="model-view-info-slider-box"
                                        name="model-slider" checked>
                                    <label for="model-slider-basic" class="model-view-info-slider-box-label">Basic
                                        info</label>
                                    <input type="radio" id="model-slider-data" class="model-view-info-slider-box"
                                        name="model-slider">
                                    <label for="model-slider-data" class="model-view-info-slider-box-label">Data</label>
                                    <input type="radio" id="model-slider-graph" class="model-view-info-slider-box"
                                        name="model-slider">
                                    <label for="model-slider-graph"
                                        class="model-view-info-slider-box-label">Graph</label>
                                </div>
                                <div class="model-view-info-slider-underline"></div>
                                <div class="model-view-info-option">
                                    <div id="model-view-info-option-first">
                                        <div class="model-view-option-calender-icon"></div>
                                        <div class="model-view-option-calender"></div>
                                        <input type="checkbox" class="model-view-option-expansion">
                                    </div>

                                </div>
                                <div id="model-view-info-slider-group">
                                    <div id="basic-info">
                                        <div class="model-view-info-operating">
                                            <div class="model-view-info-group" id="model-view-info-operating-group">
                                                <div id="model-view-info-operating-icon" class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-operating-title" class="model-view-info-title">
                                                    Operating status</div>
                                            </div>
                                            <div class="model-view-info-infogroup"
                                                id="model-view-info-operating-infogroup">
                                                <div id="operating-version-group" class="list-group">
                                                    <div class="info-text info-text-title" id="operating-version">
                                                        Version
                                                    </div>
                                                    <div class="info-text" id="operating-version-info">
                                                        KRSP 100
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="operating-ID-group" class="operating-group list-group">
                                                    <div class="info-text info-text-title" id="operating-ID">
                                                        ID
                                                    </div>
                                                    <div class="info-text" id="operating-ID-info">
                                                        krsp 100
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="model-view-info-information">
                                            <div class="model-view-info-group" id="model-view-info-information-group">
                                                <div id="model-view-info-information-icon" class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-information-title"
                                                    class="model-view-info-title">Basic
                                                    Information</div>
                                            </div>
                                            <div class="model-view-info-infogroup"
                                                id="model-view-info-information-infogroup">
                                                <div id="information-modelname-group"
                                                    class="information-group list-group">
                                                    <div class="info-text info-text-title" id="information-modelname">
                                                        Model name
                                                    </div>
                                                    <div class="info-text" id="information-modelname-info">
                                                        KRSP100-100V
                                                    </div>
                                                </div>
                                                <div class="info-line"></div>
                                                <div id="information-location-group"
                                                    class="information-group list-group">
                                                    <div class="info-text info-text-title" id="information-location">
                                                        Location
                                                    </div>
                                                    <div class="info-text" id="information-location-info">
                                                        경북 구미시 3공단2로 174
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="model-view-info-circlechart">
                                            <div class="model-view-info-group" id="model-view-info-circlechart-group">
                                                <div id="model-view-info-circlechart-icon" class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-circlechart-title"
                                                    class="model-view-info-title">Air
                                                    flow & Power in</div>
                                            </div>
                                            <div id="model-view-info-circlechart-infogroup">
                                                <div class="circlechart-infogroup" id="circlechart-airflow-infogroup">
                                                    <div class="circlechart-btn">

                                                    </div>
                                                    <div class="circlechart-title">
                                                        Air flow
                                                    </div>
                                                    <div class="circlechart-progress">
                                                        <div class="circlechart-progress-box" role="progressbar"
                                                            aria-valuenow="41.46" aria-valuemin="0" aria-valuemax="100"
                                                            style="--value: 41">
                                                            <div class="multiline-span">
                                                                <span class="top-line">41.46</span>
                                                                <span class="bottom-line">KW</span>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="circlechart-infogroup" id="circlechart-powerin-infogroup">
                                                    <div class="circlechart-btn">

                                                    </div>
                                                    <div class="circlechart-title">
                                                        Power in
                                                    </div>
                                                    <div class="circlechart-progress">
                                                        <div class="circlechart-progress-box" role="progressbar"
                                                            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                                                            style="--value: 0">
                                                            <div class="multiline-span">
                                                                <span class="top-line">0.0</span>
                                                                <span class="bottom-line">Cmf</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="verticalline" style="margin-left: 3.62rem;"></div>
                                    <div id="data" style="display: none;">
                                        <div class="model-view-info-Filtartion_lubrication">
                                            <div class="model-view-info-group"
                                                id="model-view-info-Filtartion_lubrication-group">
                                                <div id="model-view-info-Filtartion_lubrication-icon"
                                                    class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-Filtartion_lubrication-title"
                                                    class="model-view-info-title">Air
                                                    Filtartion and lubrication data</div>
                                            </div>
                                            <div id="model-view-info-Filtartion_lubrication-infogroup">
                                                <div class="Filtartion_lubrication-infogroup"
                                                    id="Filtartion_lubrication-acfm-infogroup">

                                                    <div class="Filtartion_lubrication-title">
                                                        ACFM
                                                    </div>
                                                    <div class="Filtartion_lubrication-bar">

                                                    </div>
                                                    <div class="Filtartion_lubrication-num">
                                                        500
                                                    </div>
                                                </div>
                                                <div class="Filtartion_lubrication-infogroup"
                                                    id="Filtartion_lubrication-full-infogroup">

                                                    <div class="Filtartion_lubrication-title">
                                                        Full load pressure<br>
                                                        (psig)
                                                    </div>
                                                    <div class="Filtartion_lubrication-bar">

                                                    </div>
                                                    <div class="Filtartion_lubrication-num">
                                                        100
                                                    </div>
                                                </div>
                                                <div class="Filtartion_lubrication-infogroup"
                                                    id="Filtartion_lubrication-motor-infogroup">

                                                    <div class="Filtartion_lubrication-title">
                                                        Motor HP
                                                    </div>
                                                    <div class="Filtartion_lubrication-bar">

                                                    </div>
                                                    <div class="Filtartion_lubrication-num">
                                                        100
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="model-view-info-Electrical_data">
                                            <div class="model-view-info-group"
                                                id="model-view-info-Electrical_data-group">
                                                <div id="model-view-info-Electrical_data-icon"
                                                    class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-Electrical_data-title"
                                                    class="model-view-info-title">
                                                    Air
                                                    Electrical data</div>
                                            </div>
                                            <div id="model-view-info-Electrical_data-infogroup">
                                                <div class="model-view-info-infogroup"
                                                    id="model-view-info-Electrical_data-infogroup">
                                                    <div id="Electrical_data-rating-group" class="list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-rating">
                                                            Electrical enclosure rating
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-rating-info">
                                                            NEMA1
                                                        </div>
                                                    </div>
                                                    <div class="info-line"></div>
                                                    <div id="Electrical_data-type-group"
                                                        class="Electrical_data-group list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-type">
                                                            Enclosure type
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-type-info">
                                                            TEFC
                                                        </div>
                                                    </div>
                                                    <div class="info-line"></div>
                                                    <div id="Electrical_data-class-group"
                                                        class="Electrical_data-group list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-class">
                                                            Insulation class
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-class-info">
                                                            F
                                                        </div>
                                                    </div>
                                                    <div class="info-line"></div>
                                                    <div id="Electrical_data-efficiency-group"
                                                        class="Electrical_data-group list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-efficiency">
                                                            Drive motor efficiency
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-efficiency-info">
                                                            95.4%
                                                        </div>
                                                    </div>
                                                    <div class="info-line"></div>
                                                    <div id="Electrical_data-service-group"
                                                        class="Electrical_data-group list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-service">
                                                            Service Factor
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-service-info">
                                                            1.20
                                                        </div>
                                                    </div>
                                                    <div class="info-line"></div>
                                                    <div id="Electrical_data-fan-group"
                                                        class="Electrical_data-group list-group">
                                                        <div class="info-text info-text-title-Electrical"
                                                            id="Electrical_data-fan">
                                                            Fan motor HP #1
                                                        </div>
                                                        <div class="info-text" id="Electrical_data-fan-info">
                                                            5.5
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="verticalline" style="margin-left: 4.69rem;"></div>
                                    <div id="graph" style="display: none;">
                                        <div class="model-view-info-Specific_Efficiency">
                                            <div class="model-view-info-group"
                                                id="model-view-info-Specific_Efficiency-group">
                                                <div id="model-view-info-Specific_Efficiency-icon"
                                                    class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-Specific_Efficiency-title"
                                                    class="model-view-info-title">Air
                                                    Specific Efficiency</div>
                                            </div>
                                            <div id="model-view-info-Specific_Efficiency-infogroup">
                                                <div class="Specific_Efficiency-infogroup"
                                                    id="Specific_Efficiency-graph-infogroup">
                                                    <div id="Specific_Efficiency-graph-infogroup-line">

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="model-view-info-airflow">
                                            <div class="model-view-info-group" id="model-view-info-airflow-group">
                                                <div id="model-view-info-airflow-icon" class="model-view-info-icon">
                                                </div>
                                                <div id="model-view-info-airflow-title" class="model-view-info-title">
                                                    Air
                                                    Air Flow, Pressure</div>
                                            </div>
                                            <div id="model-view-info-airflow-infogroup">
                                                <div class="airflow-infogroup" id="airflow-graph-infogroup">
                                                    <div id="airflow-graph-infogroup-line">

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div id="model-view-right-memo">
                                <div id="model-view-right-mewmo-info">
                                    <span>Memo</span>
                                    <img id="model-view-right-memo-plus" src="./img/view_icon/plus.png">
                                </div>

                                <div id="model-view-right-memo-list">
                                    <div id="model-view-right-memo-list-background"></div>
                                    <div id="model-view-right-memo-list-info">
                                        <img id="info-icon" src="./img/view_icon/memo  48x48.png">

                                        <span id="info-word">
                                            There are no notes
                                        </span>
                                        <span id="info-word-under" style=" font-size: 1rem;">
                                            Please add a note
                                        </span>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>


            </div>
            <div id="modelinfo-view-secondpage" style="padding: 7.13rem 11.19rem; display: none;">
                <div id="modelinfo-view-main">
                    <div id="modelinfo-view-main-title" style="display: flex;  justify-content: space-between;">
                        <div>
                            <div id="modelinfo-view-title-top"><img src="./img/view_icon/titleinfo.png"></div>
                            <div id="modelinfo-view-title-bottom">
                                <div id="modelinfo-view-title-bottom-name">KAISHAN COMPRESSOR USA, LLC</div>

                            </div>
                        </div>
                        <div>
                            <div id="model-view-info-option-second" style="display: flex;">
                                <div class="model-view-option-calender-group"
                                    style="margin-left: 0.86rem; align-items: center;">
                                    <div class="model-view-option-calender-icon"
                                        style="margin-left: 0.63rem; width: 2.25rem; height: 2.25rem;"></div>
                                    <div id="model-view-option-calender2"
                                        style="margin-left: 0.27rem; margin-right: 0.85rem;">
                                    </div>
                                </div>
                                <div class="model-view-option-calender-group"
                                    style="margin-left: 1.9rem; align-items: center;">
                                    <div class="model-view-option-calender-icon"
                                        style="margin-left: 0.63rem; width: 2.25rem; height: 2.25rem;"></div>
                                    <div id="model-view-option-calender3"
                                        style="margin-left: 0.27rem; margin-right: 0.85rem;">
                                    </div>
                                </div>

                                <input type="checkbox" class="model-view-option-expansion2"
                                    style="background-image: url(./img/view_icon/reduction.png)">
                            </div>
                        </div>

                    </div>

                </div>

                <div id="model-view-middle" style="width: 100%;padding: 3.31rem 1.06rem;">
                    <div id="model-view-middle-style">


                        <div id="model-view-info-slider-group" style="display: flex;">
                            <div id="basic-info">
                                <div class="model-view-info-operating" style="margin-top: 0;">
                                    <div class="model-view-info-group" id="model-view-info-operating-group">
                                        <div id="model-view-info-operating-icon" class="model-view-info-icon"></div>
                                        <div id="model-view-info-operating-title" class="model-view-info-title">
                                            Operating status</div>
                                    </div>
                                    <div class="model-view-info-infogroup" id="model-view-info-operating-infogroup">
                                        <div id="operating-version-group" class="list-group">
                                            <div class="info-text info-text-title" id="operating-version">
                                                Version
                                            </div>
                                            <div class="info-text" id="operating-version-info">
                                                KRSP 100
                                            </div>
                                        </div>
                                        <div class="info-line"></div>
                                        <div id="operating-ID-group" class="operating-group list-group">
                                            <div class="info-text info-text-title" id="operating-ID">
                                                ID
                                            </div>
                                            <div class="info-text" id="operating-ID-info">
                                                krsp 100
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="model-view-info-information" style="margin-top: 5.75rem;">
                                    <div class="model-view-info-group" id="model-view-info-information-group">
                                        <div id="model-view-info-information-icon" class="model-view-info-icon"></div>
                                        <div id="model-view-info-information-title" class="model-view-info-title">Basic
                                            Information</div>
                                    </div>
                                    <div class="model-view-info-infogroup" id="model-view-info-information-infogroup">
                                        <div id="information-modelname-group" class="information-group list-group">
                                            <div class="info-text info-text-title" id="information-modelname">
                                                Model name
                                            </div>
                                            <div class="info-text" id="information-modelname-info">
                                                KRSP100-100V
                                            </div>
                                        </div>
                                        <div class="info-line"></div>
                                        <div id="information-location-group" class="information-group list-group">
                                            <div class="info-text info-text-title" id="information-location">
                                                Location
                                            </div>
                                            <div class="info-text" id="information-location-info">
                                                B-20, Sarrià-Sant Gervasi,
                                                08017 Barcelona, Spain
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="model-view-info-circlechart" style="margin-top: 5.69rem;">
                                    <div class="model-view-info-group" id="model-view-info-circlechart-group">
                                        <div id="model-view-info-circlechart-icon" class="model-view-info-icon"></div>
                                        <div id="model-view-info-circlechart-title" class="model-view-info-title">Air
                                            flow & Power in</div>
                                    </div>
                                    <div id="model-view-info-circlechart-infogroup">
                                        <div class="circlechart-infogroup" id="circlechart-airflow-infogroup">
                                            <div class="circlechart-btn">

                                            </div>
                                            <div class="circlechart-title">
                                                Air flow
                                            </div>
                                            <div class="circlechart-progress">
                                                <div class="circlechart-progress-box" role="progressbar"
                                                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                                                    style="--value: 41">
                                                    <div class="multiline-span">
                                                        <span class="top-line">41.46</span>
                                                        <span class="bottom-line">KW</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="circlechart-infogroup" id="circlechart-powerin-infogroup">
                                            <div class="circlechart-btn">

                                            </div>
                                            <div class="circlechart-title">
                                                Power in
                                            </div>
                                            <div class="circlechart-progress">
                                                <div class="circlechart-progress-box" role="progressbar"
                                                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                                                    style="--value: 0">
                                                    <div class="multiline-span">
                                                        <span class="top-line">0.0</span>
                                                        <span class="bottom-line">Cmf</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="verticalline" style="margin-left: 3.62rem;"></div>
                            <div id="data" style="margin-left: 4.75rem;">
                                <div class="model-view-info-Filtartion_lubrication" style="margin-top: 0;">
                                    <div class="model-view-info-group"
                                        id="model-view-info-Filtartion_lubrication-group">
                                        <div id="model-view-info-Filtartion_lubrication-icon"
                                            class="model-view-info-icon">
                                        </div>
                                        <div id="model-view-info-Filtartion_lubrication-title"
                                            class="model-view-info-title">Air
                                            Filtartion and lubrication data</div>
                                    </div>
                                    <div id="model-view-info-Filtartion_lubrication-infogroup">
                                        <div class="Filtartion_lubrication-infogroup"
                                            id="Filtartion_lubrication-acfm-infogroup">

                                            <div class="Filtartion_lubrication-title">
                                                ACFM
                                            </div>
                                            <div class="Filtartion_lubrication-bar">

                                            </div>
                                            <div class="Filtartion_lubrication-num">
                                                500
                                            </div>
                                        </div>
                                        <div class="Filtartion_lubrication-infogroup"
                                            id="Filtartion_lubrication-full-infogroup">

                                            <div class="Filtartion_lubrication-title">
                                                Full load pressure<br>
                                                (psig)
                                            </div>
                                            <div class="Filtartion_lubrication-bar">

                                            </div>
                                            <div class="Filtartion_lubrication-num">
                                                100
                                            </div>
                                        </div>
                                        <div class="Filtartion_lubrication-infogroup"
                                            id="Filtartion_lubrication-motor-infogroup">

                                            <div class="Filtartion_lubrication-title">
                                                Motor HP
                                            </div>
                                            <div class="Filtartion_lubrication-bar">

                                            </div>
                                            <div class="Filtartion_lubrication-num">
                                                100
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="model-view-info-Electrical_data" style="margin-top: 5.56rem;">
                                    <div class="model-view-info-group" id="model-view-info-Electrical_data-group">
                                        <div id="model-view-info-Electrical_data-icon" class="model-view-info-icon">
                                        </div>
                                        <div id="model-view-info-Electrical_data-title" class="model-view-info-title">
                                            Air
                                            Electrical data</div>
                                    </div>
                                    <div id="model-view-info-Electrical_data-infogroup">
                                        <div class="model-view-info-infogroup"
                                            id="model-view-info-Electrical_data-infogroup">
                                            <div id="Electrical_data-rating-group" class="list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-rating">
                                                    Electrical enclosure rating
                                                </div>
                                                <div class="info-text" id="Electrical_data-rating-info">
                                                    NEMA1
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="Electrical_data-type-group"
                                                class="Electrical_data-group list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-type">
                                                    Enclosure type
                                                </div>
                                                <div class="info-text" id="Electrical_data-type-info">
                                                    TEFC
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="Electrical_data-class-group"
                                                class="Electrical_data-group list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-class">
                                                    Insulation class
                                                </div>
                                                <div class="info-text" id="Electrical_data-class-info">
                                                    F
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="Electrical_data-efficiency-group"
                                                class="Electrical_data-group list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-efficiency">
                                                    Drive motor efficiency
                                                </div>
                                                <div class="info-text" id="Electrical_data-efficiency-info">
                                                    95.4%
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="Electrical_data-service-group"
                                                class="Electrical_data-group list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-service">
                                                    Service Factor
                                                </div>
                                                <div class="info-text" id="Electrical_data-service-info">
                                                    1.20
                                                </div>
                                            </div>
                                            <div class="info-line"></div>
                                            <div id="Electrical_data-fan-group"
                                                class="Electrical_data-group list-group">
                                                <div class="info-text info-text-title-Electrical"
                                                    id="Electrical_data-fan">
                                                    Fan motor HP #1
                                                </div>
                                                <div class="info-text" id="Electrical_data-fan-info">
                                                    5.5
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="verticalline" style="margin-left: 4.69rem;"></div>
                            <div id="graph" style="margin-left: 4.31rem; margin-top: 0;">
                                <div class="model-view-info-Specific_Efficiency">
                                    <div class="model-view-info-group" id="model-view-info-Specific_Efficiency-group">
                                        <div id="model-view-info-Specific_Efficiency-icon" class="model-view-info-icon">
                                        </div>
                                        <div id="model-view-info-Specific_Efficiency-title"
                                            class="model-view-info-title">
                                            Air
                                            Specific Efficiency</div>
                                    </div>
                                    <div id="model-view-info-Specific_Efficiency-infogroup">
                                        <div class="Specific_Efficiency-infogroup"
                                            id="Specific_Efficiency-graph-infogroup">
                                            <div id="Specific_Efficiency-graph-infogroup-line">

                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="model-view-info-airflow" style="margin-top: 6.63rem;">
                                    <div class="model-view-info-group" id="model-view-info-airflow-group">
                                        <div id="model-view-info-airflow-icon" class="model-view-info-icon"></div>
                                        <div id="model-view-info-airflow-title" class="model-view-info-title">Air
                                            Air Flow, Pressure</div>
                                    </div>
                                    <div id="model-view-info-airflow-infogroup">
                                        <div class="airflow-infogroup" id="airflow-graph-infogroup">
                                            <div id="airflow-graph-infogroup-line">

                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>







            </div>

        </div>
    </template>
    <!-- <script src="./_js/bridgeEvent.js"></script> -->
    <script src="./_js/studioEvent.js"></script>
    <script src="./_js/mainPageData.js"></script>
    <script src="./_js/mainimportExcel.js"></script>
    <!-- <script src="testcreate.js"></script> -->
    <link rel="stylesheet" href="3dStudio.css" />
    <script type="text/javascript" src="babylontest.js">    </script>
    <pre id="coordinates" class="coordinates"></pre>
    <script src="./_js/buildingClick.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5.1.6"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
    <script src="./_js/importObjInfo.js"></script>
    <script src="./_js/contentsReset.js"></script>
    <script src="./_js/location.js"></script>
    <script src="./_js/searchGEOcodeControl.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl-dev.js"></script>
    <script src="https://unpkg.com/babylonjs@5.42.2/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script src="https://unpkg.com/babylonjs-loaders@5.42.2/babylonjs.loaders.min.js"></script>
    <script src=https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js></script>
    <link href=https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css rel="stylesheet" />
    <script src="https://unpkg.com/@esri/arcgis-rest-request@4.0.0/dist/bundled/request.umd.js"></script>
    <script src="https://unpkg.com/@esri/arcgis-rest-geocoding@4.0.0/dist/bundled/geocoding.umd.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.2/mapbox-gl-draw.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.2/xlsx.full.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

    <script src="https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.0/mapbox-gl-draw.css"
        type="text/css" />
    <script src="https://npmcdn.com/@turf/turf@5.1.6/turf.min.js"></script>
    <script src="./light.js"></script>
    <script src="./dark.js"></script>

    <script src="./_js/createobj.js"></script>
    <script src="./_js/selectMesh.js"></script>
    <script src="./_js/savescale.js"></script>
    <script src="./_js/connectbtnevent.js"></script>
    <script src="./_js/createobject.js"></script>
    <script src="./_js/createobject2.js"></script>
    <script src="./_js/degreesToRadians.js"></script>
    <script src="./_js/gizmoCheck.js"></script>
    <script src="./_js/gizmooff.js"></script>
    <script src="./_js/loadAsset_json.js"></script>
    <script src="./_js/radiansToDegrees.js"></script>
    <script src="./_js/saveDataToJson.js"></script>
    <script src="./_js/setInspectorTransform.js"></script>
    <script src="./_js/setObjectTransformToInspector.js"></script>
    <script src="./_js/ToBabylonPos.js"></script>
    <script src="./_js/toGPS.js"></script>
    <script src="./_js/clickSmart.js"></script>
    <script src="./_js/startmakelist.js"></script>
    <script src="./_js/changebackgroundcolor.js"></script>
    <script src="./_js/changename.js"></script>
    <script src="./_js/dblclickcameramove.js"></script>
    <script src="./_js/inspector_Set.js"></script>
    <script src="./_js/gizmoBTN.js"></script>
    <script src="./_js/setZoomInOut.js"></script>
    <script src="./_js/loadmodel_info.js"></script>
    <script src="./_js/closeimportcolor.js"></script>
    <script src="./_js/searchinput.js"></script>
    <script src="./_js/findmodel.js"></script>
    <script src="./_js/calpointdistance.js"></script>
    <script src="./_js/viewpagefunc.js"></script>
    <script src="./_js/linkinfoview.js"></script>
    <script src="./_js/makedrawdiv.js"></script>
    <script src="./_js/imagedata.js"></script>
    <script src="./_js/savemapdata.js"></script>
    <script src="./_js/changemanagermode.js"></script>
    <script src="./_js/keydown.js"></script>
    <script src="./_js/nameSort_main.js"></script>
    <script src="./_js/makememo.js"></script>

    <script src="./_js/makelabel.js"></script>
    <script src="./guiTexture.js"></script>
    <script src="./_js/bridgecam.js"></script>
    <script src="./_js/bridgeEvent.js"></script>
    <script src="./_js/mainpageobj.js"></script>





    <script src="./_js/pocket/pocketbase.js">
    </script>
    <script src="./_js/objectlisteye.js"></script>
    <script>
        
let bridgeSenorClicked = false;
let bridgeClickednum = -1;
        let facility_name = "space3_1" //erica //space3_1 //central_city_bridge
        let eventCrack = [];
        let eventCrack02 = null;
        let highlightCrack = null;
        let facility_cam = null;
        let viewerModel_distance = 5;
        let clickedBuildingIdList = [20225761, 20225762, 20212841, 20225729, 20225722, 15642952]  //임시 클릭 시 공장 뷰어 
        let otherBULD_color = {
            'default': 'rgb(242,237,232)',
            'BDU010': 'rgb(237,242,242)',
            'BDU013': 'rgb(237,242,242)',
            'BDU016': 'rgb(234,233,232)',
            'BDU027': 'rgb(246,243,234)',
            'BDU007': 'rgb(246,243,234)',
            'BDU009': 'rgb(239,233,237)',
            'BDU014': 'rgb(237,230,227)',
            'BDU002': 'rgb(214,197,189)',
            'BDU001': 'rgb(243,243,243)',
            'hoverBD': '#7350FF',
            'clickedBD': 'rgb(57,136,229)',

        }
        const BABYLON = window.BABYLON;
        let occurEventHandler=null;
let compressorhighlightLayer=null ,toggleInterval=null;
        let animationGroup_bridgeCam;

        
let previousAnimationGroup = null;
    let toggleHighlight=null;
        let center = [128.406167, 36.101275]; //GPS좌표
        let map = (window.map = new maplibregl.Map({
            container: "map",
            style: {
                "version": 8,
                "name": "Empty Style",
                "metadata": { "maputnik:renderer": "mbgljs" },
                "center": center,
                "zoom": 16,
                "sources": {
                    "vworld-base": {
                        "type": "raster",
                        "tiles": ["https://xdworld.vworld.kr/2d/Base/service/{z}/{x}/{y}.png"]
                    },
                    "google-satellite": {
                        "type": "raster",
                        "tiles": [
                            "https://mts0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",
                            "https://mts1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",
                            "https://mts2.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",
                            "https://mts3.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"
                        ],
                        "tileSize": 256,
                    },
                    "Positron-dark-nolabels": {
                        "type": "raster",
                        "tiles": [
                            "https://a.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",
                            "https://b.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",
                            "https://c.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",
                            "https://d.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"
                        ]
                    },
                    "Positron-lite-nolabels": {
                        "type": "raster",
                        "tiles": [
                            "https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",
                            "https://b.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",
                            "https://c.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",
                            "https://d.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png"
                        ]
                    },
                    "tn_lkmh": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_lkmh",
                    },
                    "tn_river_bndry": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_river_bndry"
                    },
                    "tn_river_bt": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_river_bt"
                    },
                    "tn_fclty_zone_bndry": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_fclty_zone_bndry"
                    },
                    "tn_arrfc": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_arrfc"
                    },
                    "tn_ex_mainrd_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_mainrd_a"
                    },
                    "tn_ex_localrda_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_localrda_a"
                    },
                    "tn_ex_narda_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_narda_a"
                    },
                    "tn_ex_cityhwrda_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_cityhwrda_a"
                    },
                    "tn_ex_hwrda_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_hwrda_a"
                    },
                    "tn_ex_mainrdcenl_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_mainrdcenl_l"
                    },
                    "tn_ex_localrdcenl_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_localrdcenl_l"
                    },
                    "tn_ex_nardcenl_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_nardcenl_l"
                    },
                    "tn_ex_cityhwrdcenl_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_cityhwrdcenl_l"
                    },
                    "tn_ex_hwrdcenl_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_hwrdcenl_l"
                    },
                    "tn_rodway_bndry": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_rodway_bndry"
                    },
                    "tn_rodway_ctln": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_rodway_ctln"
                    },
                    "tn_lnpgr": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_lnpgr"
                    },
                    "tn_arpgr": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_arpgr"
                    },
                    "tn_ex_subwln_l": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_subwln_l"
                    },
                    "tn_ex_subwa_a": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_subwa_a"
                    },
                    "tn_ex_exitnumber_p": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_ex_exitnumber_p"
                    },
                    "tn_buld": {
                        "type": "vector",
                        "url": "https://s.gractor.com/tiles/tn_buld"
                    },
                    "facility": {
                        "type": "geojson",
                        "data": "https://s.gractor.com/assets/json/2xEifocB_mN-8u5EYMBs-facility.json",
                        "generateId": true
                    },
                    "space": {
                        "type": "geojson",
                        "data": "https://s.gractor.com/assets/json/2xEifocB_mN-8u5EYMBs-space.json",
                        "generateId": true
                    },
                    "space_wall": {
                        "type": "geojson",
                        "data": { "type": "FeatureCollection", "features": [] }
                    },
                    "device": {
                        "type": "geojson",
                        "data": "https://s.gractor.com/assets/json/2xEifocB_mN-8u5EYMBs-device.json"
                    },
                    "terrainSource": {
                        "type": "raster-dem",
                        "url": "https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=DBapA0fS0QPloM374cKS"
                    }
                },
                "sprite": "https://s.gractor.com/assets/sprites/osm-liberty/sprites",
                "glyphs": "https://s.gractor.com/assets/fonts/{fontstack}/{range}.pbf",
                "layers": [{
                    "id": "background",
                    "type": "background",
                    "metadata": { "maputnik:comment": "배경색" },
                    "layout": { "visibility": "visible" },
                    "paint": { "background-color": "rgb(241,238,235)" }
                },
                {
                    "id": "TN_FCLTY_ZONE_BNDRY",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "시설구역경계" },
                    "source": "tn_fclty_zone_bndry",
                    "source-layer": "tn_fclty_zone_bndry",
                    "minzoom": 12,
                    "filter": ["all", ["has", "fzonbn_se"]],
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": [
                            "case",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA201", "FAA202", "FAA203", "FAA204"]]
                            ],
                            "rgb(220,216,212)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA301", "FAA311", "FAA313", "FAA314"]]
                            ],
                            "rgb(225,224,232)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA307", "FAA401", "FAA402"]]
                            ],
                            "rgb(190,210,181)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA309"]]],
                            "rgb(240,240,240)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA403"]]],
                            "rgb(180,196,155)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA404", "FAA405", "FAA508", "FAA509"]]
                            ],
                            "rgb(205,212,181)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA406", "FAA407"]]],
                            "rgb(201,214,183)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                [
                                    "literal",
                                    ["FAA010", "FAA107", "FAA205", "FAA501", "FAA502", "FAA504"]
                                ]
                            ],
                            "rgb(215,221,232)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                [
                                    "literal",
                                    [
                                        "FAA303",
                                        "FAA304",
                                        "FAA312",
                                        "FAA408",
                                        "FAA409",
                                        "FAA410",
                                        "FAA411",
                                        "FAA412",
                                        "FAA413",
                                        "FAA414"
                                    ]
                                ]
                            ],
                            "rgb(220,230,228)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA701"]]],
                            "rgb(231,231,231)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA702"]]],
                            "rgb(255,255,255)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                [
                                    "literal",
                                    [
                                        "FAA001",
                                        "FAA002",
                                        "FAA003",
                                        "FAA004",
                                        "FAA005",
                                        "FAA006",
                                        "FAA007",
                                        "FAA008",
                                        "FAA009",
                                        "FAA011"
                                    ]
                                ]
                            ],
                            "rgb(236,228,204)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                [
                                    "literal",
                                    ["FAA101", "FAA102", "FAA103", "FAA104", "FAA105", "FAA106"]
                                ]
                            ],
                            "rgb(238,236,211)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA108", "FAA305", "FAA306", "FAA308", "FAA310"]]
                            ],
                            "rgb(221,220,216)",
                            ["in", ["get", "fzonbn_se"], ["literal", ["FAA503"]]],
                            "rgb(228,222,228)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA505", "FAA506", "FAA507"]]
                            ],
                            "rgb(230,214,214)",
                            [
                                "in",
                                ["get", "fzonbn_se"],
                                ["literal", ["FAA302", "FAA601", "FAA602", "FAA603"]]
                            ],
                            "rgb(231,223,229)",
                            "rgb(220,216,212)"
                        ],
                        "fill-opacity": 0.5
                    }
                },
                {
                    "id": "TN_ARRFC",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "주차장구역/교통시설물" },
                    "source": "tn_arrfc",
                    "source-layer": "tn_arrfc",
                    "minzoom": 14,
                    "maxzoom": 19,
                    "filter": ["all", ["has", "arrfckd_se"]],
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": {
                            "property": "arrfckd_se",
                            "type": "categorical",
                            "stops": [
                                ["PRF028", "rgb(234,216,212)"],
                                ["PRF009", "rgb(225,225,225)"],
                                ["PRF010", "rgb(225,225,225)"],
                                ["PRF011", "rgb(225,225,225)"],
                                ["PRF015", "rgb(226,226,226)"],
                                ["PRF012", "rgb(234,234,234)"],
                                ["PRF016", "rgb(234,234,234)"],
                                ["PRF013", "rgb(234,234,234)"]
                            ],
                            "default": "rgb(234,230,208)"
                        },
                        "fill-outline-color": "rgb(225,225,225)"
                    }
                },
                {
                    "id": "TN_LKMH",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "호수및저수지" },
                    "source": "tn_lkmh",
                    "source-layer": "tn_lkmh",
                    "minzoom": 10,
                    "maxzoom": 16,
                    "layout": { "visibility": "visible" },
                    "paint": { "fill-color": "rgb(176,211,228)" }
                },
                {
                    "id": "TN_RIVER_BNDRY",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "하천" },
                    "source": "tn_river_bndry",
                    "source-layer": "tn_river_bndry",
                    "minzoom": 7,
                    "maxzoom": 19,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            7,
                            "rgb(176,211,228)",
                            19,
                            "rgb(198,221,177)"
                        ]
                    }
                },
                {
                    "id": "TN_RIVER_BT",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "하천" },
                    "source": "tn_river_bt",
                    "source-layer": "tn_river_bt",
                    "minzoom": 13,
                    "maxzoom": 19,
                    "layout": { "visibility": "visible" },
                    "paint": { "fill-color": "rgb(176,211,228)" }
                },
                {
                    "id": "TN_EX_MAINRD_A",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "면형주요도로" },
                    "source": "tn_ex_mainrd_a",
                    "source-layer": "tn_ex_mainrd_a",
                    "minzoom": 15,
                    "layout": { "visibility": "visible" },
                    "paint": { "fill-color": "rgba(255,255,255,1)" }
                },
                {
                    "id": "TN_EX_LOCALRDA_A",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "면형지방도" },
                    "source": "tn_ex_localrda_a",
                    "source-layer": "tn_ex_localrda_a",
                    "minzoom": 15,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": "rgb(239,231,205)",
                        "fill-outline-color": "rgb(222,204,150)"
                    }
                },
                {
                    "id": "TN_EX_HWRDA_A",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "면형고속도로" },
                    "source": "tn_ex_hwrda_a",
                    "source-layer": "tn_ex_hwrda_a",
                    "minzoom": 14,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": "rgb(241,212,129)",
                        "fill-outline-color": "rgb(210,184,110)"
                    }
                },
                {
                    "id": "TN_EX_MAINRDCENL_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "선형주요도로" },
                    "source": "tn_ex_mainrdcenl_l",
                    "source-layer": "tn_ex_mainrdcenl_l",
                    "minzoom": 10,
                    "maxzoom": 14,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            10,
                            1.5,
                            11,
                            2,
                            12,
                            3,
                            13,
                            3,
                            14,
                            3
                        ]
                    }
                },
                {
                    "id": "TN_EX_LOCALRDCENL_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "선형지방도" },
                    "source": "tn_ex_localrdcenl_l",
                    "source-layer": "tn_ex_localrdcenl_l",
                    "minzoom": 8,
                    "maxzoom": 14,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": ["interpolate", ["linear"], ["zoom"], 8, 3, 14, 4]
                    }
                },
                {
                    "id": "TN_EX_NARDCENL_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "선형국도" },
                    "source": "tn_ex_nardcenl_l",
                    "source-layer": "tn_ex_nardcenl_l",
                    "minzoom": 8,
                    "maxzoom": 14,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": ["interpolate", ["linear"], ["zoom"], 8, 3, 14, 4]
                    }
                },
                {
                    "id": "TN_EX_CITYHWRDCENL_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "선형도시고속도로" },
                    "source": "tn_ex_cityhwrdcenl_l",
                    "source-layer": "tn_ex_cityhwrdcenl_l",
                    "minzoom": 8,
                    "maxzoom": 13,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": ["interpolate", ["linear"], ["zoom"], 8, 4, 13, 5]
                    }
                },
                {
                    "id": "TN_EX_HWRDCENL_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "선형고속도로" },
                    "source": "tn_ex_hwrdcenl_l",
                    "source-layer": "tn_ex_hwrdcenl_l",
                    "minzoom": 7,
                    "maxzoom": 13,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": ["interpolate", ["linear"], ["zoom"], 7, 3, 13, 4]
                    }
                },
                {
                    "id": "TN_RODWAY_BNDRY",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "면형일반도로" },
                    "source": "tn_rodway_bndry",
                    "source-layer": "tn_rodway_bndry",
                    "minzoom": 15,
                    "layout": { "visibility": "visible" },
                    "paint": { "fill-color": "rgba(255,255,255,1)" }
                },
                {
                    "id": "TN_RODWAY_CTLN",
                    "type": "line",
                    "metadata": { "maputnik:comment": "면리간도로,선형일반도로" },
                    "source": "tn_rodway_ctln",
                    "source-layer": "tn_rodway_ctln",
                    "minzoom": 13,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(227,227,227)",
                        "line-width": {
                            "property": "road_se",
                            "type": "categorical",
                            "stops": [["RDC010", 2], ["RDC014", 5]],
                            "default": 1.38
                        },
                        "line-opacity": 0.8
                    }
                },
                {
                    "id": "TN_LNPGR",
                    "type": "line",
                    "metadata": { "maputnik:comment": "보행노선" },
                    "source": "tn_lnpgr",
                    "source-layer": "tn_lnpgr",
                    "minzoom": 16,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": "rgb(241,233,230)",
                        "line-width": [
                            "interpolate",
                            ["exponential", 1.5],
                            ["zoom"],
                            16,
                            1.2,
                            17,
                            3.2,
                            18,
                            6,
                            19,
                            8
                        ],
                        "line-opacity": 0.8
                    }
                },
                {
                    "id": "TN_ARPGR",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "보행노면" },
                    "source": "tn_arpgr",
                    "source-layer": "tn_arpgr",
                    "minzoom": 16,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": "rgb(241,233,230)",
                        "fill-outline-color": "rgb(227,222,210)"
                    }
                },
                {
                    "id": "TN_EX_NARDA_A",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "면형국도" },
                    "source": "tn_ex_narda_a",
                    "source-layer": "tn_ex_narda_a",
                    "minzoom": 15,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": "rgb(239,224,179)",
                        "fill-outline-color": "rgb(205,186,142)"
                    }
                },
                {
                    "id": "TN_EX_SUBWLN_L",
                    "type": "line",
                    "metadata": { "maputnik:comment": "지하철노선_L12-14" },
                    "source": "tn_ex_subwln_l",
                    "source-layer": "tn_ex_subwln_l",
                    "minzoom": 12,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-color": {
                            "property": "name",
                            "type": "categorical",
                            "stops": [
                                ["서울1호선", "rgb(0,82,164)"],
                                ["서울2호선", "rgb(0,168,77)"],
                                ["서울3호선", "rgb(239,124,28)"],
                                ["서울4호선", "rgb(0,164,227)"],
                                ["서울5호선", "rgb(153,108,172)"],
                                ["서울6호선", "rgb(205,124,47)"],
                                ["서울7호선", "rgb(116,127,0)"],
                                ["서울8호선", "rgb(230,16,107)"],
                                ["서울9호선", "rgb(189,176,146)"],
                                ["경강선", "rgb(0,91,172)"],
                                ["경의중앙선", "rgb(119,196,163)"],
                                ["경춘선", "rgb(12,142,114)"],
                                ["공항철도", "rgb(0,144,210)"],
                                ["분당선", "rgb(250,190,0)"],
                                ["수인분당선", "rgb(250,190,0)"],
                                ["신분당선", "rgb(212,0,59)"],
                                ["에버라인", "rgb(92,181,49)"],
                                ["의정부경전철", "rgb(248,177,0)"],
                                ["인천공항자기부상철도", "rgb(255,205,18)"],
                                ["인천1호선", "rgb(151,187,223)"],
                                ["인천2호선", "rgb(243,152,0)"],
                                ["광주1호선", "rgb(0,144,136)"],
                                ["대구1호선", "rgb(217,63,92)"],
                                ["대구2호선", "rgb(0,170,128)"],
                                ["대구3호선", "rgb(255,177,0)"],
                                ["대전1호선", "rgb(0,116,72)"],
                                ["부산1호선", "rgb(240,106,0)"],
                                ["부산2호선", "rgb(129,191,72)"],
                                ["부산3호선", "rgb(187,140,0)"],
                                ["부산4호선", "rgb(33,125,203)"],
                                ["부산경전철", "rgb(134,82,161)"],
                                ["우이신설선", "rgb(176,206,24)"],
                                ["동해선", "rgb(0,61,165)"],
                                ["서해선", "rgb(129,169,20)"],
                                ["김포골드라인", "rgb(161,120,0)"],
                                ["신림선", "rgb(103,137,202)"]
                            ],
                            "default": {
                                "property": "sub_cd",
                                "type": "categorical",
                                "stops": [["RRC001", "rgb(0,0,0)"], ["RRC002", "rgb(184,184,184)"]]
                            }
                        },
                        "line-width": {
                            "property": "sub_cd",
                            "type": "categorical",
                            "stops": [["RRC001", 4.5], ["RRC002", 6.5]],
                            "default": 4
                        }
                    }
                },
                {
                    "id": "TN_EX_SUBWA_A",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "지하철역사" },
                    "source": "tn_ex_subwa_a",
                    "source-layer": "tn_ex_subwa_a",
                    "minzoom": 16,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-color": {
                            "property": "line_name",
                            "type": "categorical",
                            "stops": [
                                ["서울지하철1호선", "rgb(0,82,164)"],
                                ["서울지하철2호선", "rgb(0,168,77)"],
                                ["서울지하철3호선", "rgb(239,124,28)"],
                                ["서울지하철4호선", "rgb(0,164,227)"],
                                ["서울지하철5호선", "rgb(153,108,172)"],
                                ["서울지하철6호선", "rgb(205,124,47)"],
                                ["서울지하철7호선", "rgb(116,127,0)"],
                                ["서울지하철8호선", "rgb(230,16,107)"],
                                ["서울지하철9호선", "rgb(189,176,146)"],
                                ["경강선", "rgb(0,91,172)"],
                                ["경의중앙선", "rgb(119,196,163)"],
                                ["경춘선", "rgb(12,142,114)"],
                                ["공항철도", "rgb(0,144,210)"],
                                ["분당선", "rgb(250,190,0)"],
                                ["수인분당선", "rgb(250,190,0)"],
                                ["신분당선", "rgb(212,0,59)"],
                                ["에버라인", "rgb(92,181,49)"],
                                ["의정부경전철", "rgb(248,177,0)"],
                                ["인천공항자기부상철도", "rgb(255,205,18)"],
                                ["인천지하철1호선", "rgb(151,187,223)"],
                                ["인천지하철2호선", "rgb(243,152,0)"],
                                ["광주지하철1호선", "rgb(0,144,136)"],
                                ["대구지하철1호선", "rgb(217,63,92)"],
                                ["대구지하철2호선", "rgb(0,170,128)"],
                                ["대구지하철3호선", "rgb(255,177,0)"],
                                ["대전지하철1호선", "rgb(0,116,72)"],
                                ["부산지하철1호선", "rgb(240,106,0)"],
                                ["부산지하철2호선", "rgb(129,191,72)"],
                                ["부산지하철3호선", "rgb(187,140,0)"],
                                ["부산지하철4호선", "rgb(33,125,203)"],
                                ["부산경전철", "rgb(134,82,161)"],
                                ["우이신설선", "rgb(176,206,24)"],
                                ["동해선", "rgb(0,61,165)"],
                                ["서해선", "rgb(129,169,20)"],
                                ["김포골드라인", "rgb(161,120,0)"],
                                ["신림선", "rgb(103,137,202)"]
                            ]
                        },
                        "fill-opacity": 1
                    }
                },
                {
                    "id": "TN_BULD_3D",
                    "type": "fill-extrusion",
                    "metadata": { "maputnik:comment": "건물 (내부서버)" },
                    "source": "tn_buld",
                    "source-layer": "tn_buld",
                    "minzoom": 13,
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-extrusion-color": {
                            "property": "bprp_se",
                            "type": "categorical",
                            "stops": [
                                ["BDU010", "rgb(237,242,242)"],
                                ["BDU013", "rgb(237,242,242)"],
                                ["BDU016", "rgb(234,233,232)"],
                                ["BDU027", "rgb(246,243,234)"],
                                ["BDU007", "rgb(246,243,234)"],
                                ["BDU009", "rgb(239,233,237)"],
                                ["BDU014", "rgb(237,230,227)"],
                                ["BDU002", "rgb(214,197,189)"],
                                ["BDU001", "rgb(243,243,243)"]
                            ],
                            "default": "rgb(242,237,232)"
                        },
                        "fill-extrusion-height": [
                            "case",
                            ["has", "bflr_co"],
                            ["*", 5, ["get", "bflr_co"]],
                            5
                        ],
                        "fill-extrusion-opacity": 0.8

                    }
                },
                {
                    "id": "FACILITY",
                    "type": "fill-extrusion",
                    "metadata": { "maputnik:comment": "시설" },
                    "source": "facility",
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-extrusion-base": 0,
                        "fill-extrusion-color": [
                            "case",
                            ["boolean", ["feature-state", "hover"], false],
                            "rgba(166, 184, 255, 1)",
                            "rgba(166, 184, 255, 0.5)"
                        ],
                        "fill-extrusion-height": [
                            "case",
                            ["!=", 0, ["to-number", ["get", "height"]]],
                            ["get", "height"],
                            4
                        ],
                        "fill-extrusion-vertical-gradient": true
                    }
                },
                {
                    "id": "FLOOR",
                    "type": "fill-extrusion",
                    "metadata": { "maputnik:comment": "층" },
                    "source": "space",
                    "filter": ["all", ["==", "indoor", "level"]],
                    "layout": { "visibility": "none" },
                    "paint": {
                        "fill-extrusion-base": ["get", "render_min_height"],
                        "fill-extrusion-color": ["get", "color"],
                        "fill-extrusion-height": ["+", 3.8, ["get", "render_height"]],
                        "fill-extrusion-opacity": 1
                    }
                },
                {
                    "id": "SPACE",
                    "type": "fill",
                    "metadata": { "maputnik:comment": "공간" },
                    "source": "space",
                    "filter": ["all", ["has", "indoor"]],
                    "layout": { "visibility": "none" },
                    "paint": {
                        "fill-opacity": 1,
                        "fill-color": [
                            "case",
                            [
                                "in",
                                ["get", "room"],
                                [
                                    "literal",
                                    [
                                        "100",
                                        "101",
                                        "102",
                                        "103",
                                        "104",
                                        "105",
                                        "106",
                                        "107",
                                        "108",
                                        "109",
                                        "110",
                                        "111",
                                        "112",
                                        "113"
                                    ]
                                ]
                            ],
                            "#B2D8FC",
                            [
                                "in",
                                ["get", "room"],
                                [
                                    "literal",
                                    [
                                        "200",
                                        "201",
                                        "202",
                                        "203",
                                        "204",
                                        "205",
                                        "206",
                                        "300",
                                        "301",
                                        "302",
                                        "303",
                                        "304",
                                        "305"
                                    ]
                                ]
                            ],
                            "#C7EAD2",
                            ["in", ["get", "room"], ["literal", ["400", "401", "402"]]],
                            "#F2E6DE",
                            [
                                "in",
                                ["get", "room"],
                                [
                                    "literal",
                                    ["500", "501", "502", "503", "504", "505", "506", "507"]
                                ]
                            ],
                            "#FFDD66",
                            [
                                "in",
                                ["get", "room"],
                                [
                                    "literal",
                                    ["600", "601", "602", "603", "604", "605", "606", "607"]
                                ]
                            ],
                            "#D2E7B7",
                            ["in", ["get", "room"], ["literal", ["700", "701", "702", "703"]]],
                            "#C4C4F8",
                            [
                                "in",
                                ["get", "room"],
                                ["literal", ["800", "801", "802", "803", "804"]]
                            ],
                            "#F2DEFE",
                            [
                                "in",
                                ["get", "room"],
                                [
                                    "literal",
                                    ["900", "901", "902", "903", "904", "905", "906", "907"]
                                ]
                            ],
                            "#A0A9B1",
                            ["==", ["get", "indoor"], "level"],
                            "#C9CBCD",
                            ["==", ["get", "indoor"], "area"],
                            "#ffffff",
                            "#ffffff"
                        ],
                        "fill-outline-color": "#000000"
                    }
                },
                {
                    "id": "SPACE_WALL",
                    "type": "fill-extrusion",
                    "metadata": { "maputnik:comment": "공간 벽" },
                    "source": "space_wall",
                    "filter": ["all", ["!=", "indoor", "level"]],
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "fill-extrusion-base": 0,
                        "fill-extrusion-color": [
                            "case",
                            ["==", ["get", "indoor"], "door"],
                            "#1f1f1f",
                            "#f0f0f0"
                        ],
                        "fill-extrusion-height": [
                            "case",
                            ["==", ["get", "indoor"], "area"],
                            0,
                            1
                        ],
                        "fill-extrusion-opacity": 0.8
                    }
                },
                {
                    "id": "SPACE_LINE",
                    "type": "line",
                    "metadata": { "maputnik:comment": "공간 HIGHWAY" },
                    "source": "space_wall",
                    "filter": ["all", ["==", "indoor", "highway"]],
                    "layout": { "visibility": "visible" },
                    "paint": {
                        "line-opacity": 1,
                        "line-dasharray": [0.2, 0.2],
                        "line-color": "#f8b29c",
                        "line-width": 20
                    }
                },
                {
                    "id": "SPACE_POI",
                    "type": "symbol",
                    "metadata": { "maputnik:comment": "공간 AMENITY" },
                    "source": "space_wall",
                    "minzoom": 15,
                    "filter": ["all", ["==", "indoor", "amenity"]],
                    "layout": {
                        "visibility": "visible",
                        "icon-image": {
                            "property": "amenity",
                            "type": "categorical",
                            "stops": [
                                ["201", "toilet_15"],
                                ["202", "toilet_15"],
                                ["203", "toilet_15"],
                                ["204", "toilet_15"],
                                ["205", "drinking_water_15"],
                                ["206", "restaurant_15"],
                                ["301", "shelter_15"],
                                ["302", "pitch_15"],
                                ["401", "entrance_15"],
                                ["402", "entrance_15"]
                            ]
                        },
                        "icon-anchor": "bottom",
                        "icon-offset": [0, -5],
                        "icon-pitch-alignment": "map",
                        "text-pitch-alignment": "map",
                        "text-field": "{name}",
                        "text-font": ["Noto Sans KR Regular"],
                        "text-size": 12
                    },
                    "paint": {
                        "text-color": "#000",
                        "text-halo-color": "#fff",
                        "text-halo-width": 1
                    }
                }, {
                    "id": "google",
                    "type": "raster",
                    "metadata": { "maputnik:comment": "구글위성" },
                    "source": "google-satellite",
                    "layout": { "visibility": "none" }
                },
                {
                    "id": "vworld",
                    "type": "raster",
                    "metadata": { "maputnik:comment": "vWorld 기본" },
                    "source": "vworld-base",
                    "layout": { "visibility": "none" }
                }
                ],
                "id": "ojfjodnvz"
            },
            zoom: 12.5,
            center: center,
            pitch: 60,
            antialias: true,
            maxZoom: 20,
            minzoom: 12
        }));


        let scaleM=[]
        let maxZoom = 22
        let maxZoomuse = 24
        map.setMaxZoom(maxZoom)
        map.setMinZoom(13.979005488986576)

        // World matrix parameters
        const worldOrigin = center;
        const worldAltitude = 0;
        const detach = 0;
        // Maplibre.js default coordinate system (no rotations)
        // +x east, -y north, +z up
        //let worldRotate = [0, 0, 0];

        // Babylon.js default coordinate system
        // +x east, +y up, +z north
        const worldRotate = [Math.PI / 2, 0, 0];

        // Calculate mercator coordinates and scale
        let worldOriginMercator = maplibregl.MercatorCoordinate.fromLngLat(
            worldOrigin,
            worldAltitude
        );
        let worldScale = worldOriginMercator.meterInMercatorCoordinateUnits();

        // Calculate world matrix
        let worldMatrix = BABYLON.Matrix.Compose(
            new BABYLON.Vector3(worldScale, worldScale, worldScale),  //000000031589
            BABYLON.Quaternion.FromEulerAngles(
                worldRotate[0],
                worldRotate[1],
                worldRotate[2]
            ),
            new BABYLON.Vector3(
                worldOriginMercator.x,
                worldOriginMercator.y,
                worldOriginMercator.z
            )
        );
        ///drag event
        let guiIcon, memoclickon = false;
        let lightJson, darkJson;
        let iseditormode = false;
        let nowclickbtn = 0, click_categoryBox = "all", changecolor_categoryBox = "all";
        let isclickhierarchy = false;
        let isclickobject = false;
        let clickhierarchyinfo;
        let isscale = false;
        let arr = [];
        let modelObj = [];
        let manager_modelObj = [];
        let selectedMesh = {
            allmesh_: null, model_: null, scalex_: 0, scaley_: 0, scalez_: 0, originx_: 0, originy_: 0, originz_: 0, zoomlevel_: 0, divId: "",
            type: "",
            explane: "",
            JSONEditor: "",
            marker: 0,
            modelingType: "",
            worldMatrix: { _x: null, _y: null, _z: null },
            originscale: { _x: null, _y: null, _z: null },
            objmode: "",
        };
        let gizmoManager;   //gizmo전역
        let zoomLevel_ = 10; //줌 레벨에 따른 기즈모 적용 변수
        let ismouseclick = false;
        //const canvas = map.getCanvasContainer();
        let gizmoclickcheck = false; //gizmo클릭체크
        let startpointx, startpointy;
        let bearingData, pitchData;
        let clientwidth, clientheight;
        let testnum = 0;
        let container = document.getElementById("map");
        let inputmousenum = 0;
        let prepointx, prepointy;
        let cursoron = false;
        let _modelArrToJson = {};
        let savename, doubleclickcheck = false, clickdiv;
        let selectsomething = false;
        let clickedgizmo = false;
        let objectlist2;
        let exitbtnclick = 0;
        let dragfirst = "";
        let groupnum = 0, manager_groupnum = 0;
        let recentgroup, parentmesh = [];
        let initialHTML = $("#externalContent").html();
        let drawstartline, drawstartlinemove = false, drawdiv, geojsonid = 0, makejson = false, usegeojsonid;
        let currentScene, mapScene, viewScene, studioScene;
        let advancedTexture = null, advancedTexture2 = null, advancedTexture3 = null, advancedTexture4 = null, advancedTexture5 = null, advancedTexture6 = null;
        //1번 viewer gui 2번 studio gui 3번 dx gui 4번 다리 point, 5번은 메모, 6번 cctv, people
        const objectlist = {
            1: { name: "Aciist", type: "sensor", num: 0, zoom: 21 },
            2: { name: "aqua-art-bridge", type: "facility", num: 0, zoom: 25 },
            3: { name: "Breaker", type: "device", num: 0, zoom: 20 },
            4: { name: "City-hall", type: "building", num: 0, zoom: 23 },
            5: { name: "HSFD-2000W", type: "sensor", num: 0, zoom: 20 },
            6: { name: "Kaishan-compressor", type: "device", num: 0, zoom: 25 },
            7: { name: "Kiosk", type: "device", num: 0, zoom: 25 },
            8: { name: "Lamp", type: "etc-assets", num: 0, zoom: 25 },
            9: { name: "Media-pole", type: "device", num: 0, zoom: 25 },
            10: { name: "School", type: "building", num: 0, zoom: 25 },
            11: { name: "School-zone-sign", type: "traffic", num: 0, zoom: 25 },
            12: { name: "Smart-pole", type: "device", num: 0, zoom: 25 },
            13: { name: "Traffic-light", type: "traffic", num: 0, zoom: 25 },
            14: { name: "Street-lamp", type: "etc-assets", num: 0, zoom: 25 },
            15: { name: "Bus-shelter", type: "facility", num: 0, zoom: 25 },
            16: { name: facility_name, type: "facility", num: 0, zoom: 25 },
            17: { name: "centralcity_bridges", type: "facility", num: 0, zoom: 25 },

            18: { name: "Group", type: "Group", num: 0, zoom: 0 }
        }
        let clickobjinfo = { name: null, type: null }
        let selectedMeshListName;
        let inputState = false;
        let babylonCoordinates, createclickobj = [];
        let viewmodecheck = false;
        //maekviewmodel();
        makeview_facility();
        makeStudiomodel();

        const popups = [];
        const popupsline = [];
        const popupslinearea = [];
        const password = "0000";
        let isanimationstart = true;
        let markeron = false;
        let popup;
        let infoTemplate;
        let managermodecheck = false;
        let objmarker = [];
        let cam = [],
            era = [],
            lookat = [],
            full = [], people = [], cctvpoint = [], cluster = [];
        let markermaxZoomLevel = 16.5; // 17.951518082116383
        let memolistnum=0, clickmemolist=null, nowclickmemo=0;
        let thischeck=false, positionsphere=null, newpositionsphere=null;
        let viewrecentclickobj=null, issetting=false;
        let justfirst=true;
        let crackani, inclination=[],gui_ani=[],crack_Text=[];  
        let recentclick=0;
        // configuration of the custom layer for a 3D model per the CustomLayerInterface
        const customLayer = {
            id: "3d-model",
            type: "custom",
            renderingMode: "3d",
            onAdd(map, gl) {
                this.engine = new BABYLON.Engine(
                    gl,
                    true,
                    {
                        useHighPrecisionMatrix: true // Important to prevent jitter at mercator scale
                    },
                    true
                );
                this.scene = new BABYLON.Scene(this.engine);
                this.scene.autoClear = false;
                this.scene.autoClearDepthAndStencil = false; //
                this.scene.detachControl();
                this.scene.beforeRender = () => {
                    this.engine.wipeCaches(true);
                };

                // create simple camera (will have its project matrix manually calculated)
                this.camera = new BABYLON.Camera(
                    "Camera",
                    new BABYLON.Vector3(0, 0, 0),
                    this.scene
                );
                // create simple light
                // const light = new BABYLON.HemisphericLight(
                //     "light1",
                //     new BABYLON.Vector3(0, 10, 0),
                //     this.scene
                // );
                // light.intensity = 3;
                // const light1 = new BABYLON.DirectionalLight(
                //     "light2222",
                //     new BABYLON.Vector3(0, 10,0),
                //     this.scene
                // );
                // light1.intensity = 3;


                clientwidth = this.engine.getRenderWidth();
                clientheight = this.engine.getRenderHeight();


                let hdrTexture = BABYLON.CubeTexture.CreateFromPrefilteredData("https://assets.babylonjs.com/environments/environmentSpecular.env", this.scene);

                hdrTexture.gammaSpace = false;
                this.scene.environmentTexture = hdrTexture;
                //  console.log((this.scene.activeCamera.maxZ - this.scene.activeCamera.minZ) / 2, 0.3)
                this.scene.createDefaultSkybox(this.scene.environmentTexture, true, (this.scene.activeCamera.maxZ - this.scene.activeCamera.minZ) * 6, 1, false);
                this.scene.createDefaultLight();
                this.scene.environmentTexture.intensity = 10;
                //this.scene.environmentTexture = hdrTexture; //터치가 안되는 오류clearinput 발생
                //createobject("Aciist");
                // letiables for Mesh Selection
                selectionLayer = new BABYLON.HighlightLayer("selectionLayer", this.scene);


                document.getElementById("obj-box-Objlist-searching").addEventListener("blur", () => { cursoron = false; });
                document.getElementById("editor-modelProperty-explanation-input").addEventListener("blur", () => { cursoron = false; });

                document.getElementById("obj-box-Objlist-searching-clear").onclick = function () { clearinput("obj-box-Objlist-searching") };

                document.getElementById("main-view-side-btn-search-input").oninput = function () {
                    document.getElementById("side-btn-search-input-clear").style.display = "block"
                };
                document.getElementById("side-btn-search-input-clear").onclick = function () {
                    document.getElementById("main-view-side-btn-search-input").value = ""
                    document.getElementById("side-btn-search-input-clear").style.display = "none"
                }

                document.getElementById("editor-side-view-layer-searching-input").oninput = function () {
                    document.getElementById("editor-side-view-layer-searching-input-clear").style.display = "block"
                };
                document.getElementById("editor-side-view-layer-searching-input-clear").onclick = function () {
                    document.getElementById("editor-side-view-layer-searching-input").value = ""
                    document.getElementById("editor-side-view-layer-searching-input-clear").style.display = "none"
                }

                document.getElementById("editor-side-view-layer-searching-input").oninput = function () { searchinputlayer() };
                document.getElementById("editor-side-view-layer-searching-input-clear").onclick = function () { clearinput("editor-side-view-layer-searching-input") };
               // document.getElementById("editor-icons-loadBTN").onclick = function () { serverJsontoModelData("ten3"); };

                document.getElementById("main-new-obj-box-exit").onclick = function () {
                    if (exitbtnclick == 2) {
                        // let clostab = document.getElementById("main-new-obj-box-import");
                        // clostab.style.display = "none";

                        importReset();
                    }
                    else if (exitbtnclick == 1) {

                        let clostab = document.getElementById("main-new-obj-box");
                        clostab.style.display = "none";
                        document.getElementById("main-new-obj-box-exit").style.visibility = "hidden";
                        document.getElementById("editor-icons-modeling").checked = false;
                        document.getElementById("editor-icons-modeling").style.backgroundColor = 'var(--view-bar-btn-colo)';
                    }
                    closeimportcolor();
                    exitbtnclick -= 1;
                    // let openbtn = document.getElementById("hierarchyopen"); openbtn.style.display="inline-block"; openbtn.style.position= "absolute";
                    // console.log("clostab", clostab)
                };
                advancedTexture2 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    studioScene
                );
                advancedTexture3 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                advancedTexture4 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                advancedTexture5 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                advancedTexture6 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                advancedTextureCrack = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                advancedTextureCrack02 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(
                    "UI",
                    undefined,
                    viewScene
                );
                guiIcon = new BABYLON.GUI.Image("guiIcon", memooutline_base); // 이미지 아이콘을 사용하는 예
                // guiIcon의 다른 속성 설정 (예: color, fontSize)은 Image 컨트롤에는 적용되지 않습니다.
                guiIcon.width = "40px";
                guiIcon.height = "40px";
                guiIcon.name = "guiIcon";
                guiIcon.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
                guiIcon.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;
                advancedTexture5.addControl(guiIcon);
                newpositionsphere = BABYLON.MeshBuilder.CreateSphere(
                    "sphere",
                    { diameter: 1 },
                    viewScene
                );
                newpositionsphere.position = new BABYLON.Vector3(0, 0, 0);

                function intitdraw() {
                    drawstartline = false;
                    drawstartlinemove = false;
                    makejson = false;
                    
                    document.querySelector('#map canvas').classList.remove('rulerClicked-cursor');
                    document.querySelector('#map canvas').classList.remove('areaClicked-cursor');
                }

                $("#main-view-side-btn-distance-checkbox").click(function () {
                    
                    document.querySelector('#map canvas').classList.add('rulerClicked-cursor');
                    draw.changeMode('simple_select'); //도형그리기 기능 off
                    $("#main-view-side-btn-area-checkbox").css("background-color", "var(--btn-color)")
                    if (!drawstartline) {//drawline기능 on
                        drawstartline = true;
                        $(this).css('background-color', "var(--select-background-color)")
                        recentclick = "distance";
                    }
                    else {
                        intitdraw();
                        recentclick = "";
                        $(this).css('background-color', "var(--btn-color)")
                    }

                })
                $("#main-view-side-btn-area-checkbox").click(function () {
                    intitdraw();

                    $("#main-view-side-btn-distance-checkbox").css('background-color', "var(--btn-color)")
                    while (geojson.features.length > 0) {
                        geojson.features.pop();
                    }
                    draw.changeMode('simple_select');
                    if (recentclick == "area") {
                        this.style.backgroundColor = "var(--btn-color)";
                        $("this").css("background-color", "var(--btn-color)")
                        recentclick = "";
                    } else {
                        
                    document.querySelector('#map canvas').classList.add('areaClicked-cursor');
                        $(this).css('background-color', "var(--select-background-color)")
                        recentclick = "area";
                    }
                })
                $("#main-view-side-btn-erase-checkbox").click(function () {
                    document.querySelector('#map canvas').classList.remove('areaClicked-cursor');
                    document.querySelector('#map canvas').classList.remove('rulerClicked-cursor');
                    $("#main-view-side-btn-area-checkbox").css("background-color", "var(--btn-color)")
                    $("#main-view-side-btn-distance-checkbox").css("background-color", "var(--btn-color)")
                    //draw.changeMode('draw_polygon');
                    const data = draw.getAll();
                    draw.deleteAll();
                    let num = 0;
                    popups.forEach(child => {
                        child.remove();
                        popups.slice(num, 1);
                        data.features.slice(num, 1);
                        areanum -= 1;
                        num += 1;
                    })
                    //////////////////////////////////////////////////////////////////

                    //console.log(map.getStyle().layers)
                    num = 0;
                    popupsline.forEach(child => {
                   //     console.log(child)
                        child.remove();
                        popupsline.slice(num, 1);
                        num += 1;
                        
                         if (map.getLayer("measure-points" + child.id)) {
                            map.removeLayer("measure-points" + child.id);
                            map.removeLayer("measure-lines" + child.id);
                            map.removeSource('geojson' + child.id); //확인필요
                        }
                    })
                    num = 0;
                    popupslinearea.forEach(child => {
                        child.remove();
                        popupslinearea.slice(num, 1);
                        num += 1;
                        if (map.getLayer("measure-points" + child.id)) {
                            map.removeLayer("measure-points" + child.id);
                            map.removeLayer("measure-lines" + child.id);
                            map.removeSource('geojson' + child.id); //확인필요
                        }
                    })

                    geojsonid = 0;

                    drawstartlinemove = false;
                })
                document.getElementById("main-view-side-btn-3D-checkbox").addEventListener('change', function () {
                    //scaleM
                    //testcreateobj("sensor1",0);
                        
                    if (this.checked) {
                        i=0;
                        modelObj.forEach(mObjScale=>{
                            mObjScale.model_.scaling.y = scaleM[i];
                            i++
                        })
                        map.setPaintProperty("TN_BULD_3D", 'fill-extrusion-height', [
                            'case',
                            ['has', 'bflr_co'],
                            ['*', 5, ['get', 'bflr_co']],
                            5
                        ]);
                    }
                    else {//2D
                        scaleM=null;
                        scaleM=[];
                        modelObj.forEach(mObjScale=>{
                            scaleM.push(mObjScale.model_.scaling.y)
                            mObjScale.model_.scaling.y= 0.1;
                        })
                        map.setPaintProperty("TN_BULD_3D", 'fill-extrusion-height', [
                            'case',
                            ['has', 'bflr_co'],
                            ['*', 0.01, ['get', 'bflr_co']],
                            5
                        ]);
                    }
                })

                // "fill-extrusion-height": [
                //     "case",
                //     ["has", "bflr_co"],
                //     ["*", 5, ["get", "bflr_co"]],
                //     5
                // ],
                $(".obj-box-category-col-btn").click(function () {
                    let thisid = this.id;
                    if (thisid.includes("all")) {
                        click_categoryBox = "all";
                        $("#new-obj-box-list-cover").css("display", "none")

                    }
                    else if (thisid.includes("etc-assets")) {
                        click_categoryBox = "etc-assets";
                        $("#new-obj-box-list-cover").css("display", "none")

                    }
                    else if (thisid.includes("facility")) {
                        click_categoryBox = "facility";
                        if (!managermodecheck)
                            $("#new-obj-box-list-cover").css("display", "block")
                    }
                    else if (thisid.includes("building")) {
                        click_categoryBox = "building";
                        if (!managermodecheck)
                            $("#new-obj-box-list-cover").css("display", "block")

                    }
                    else if (thisid.includes("device")) {
                        if (!managermodecheck)
                            click_categoryBox = "device";

                        $("#new-obj-box-list-cover").css("display", "none")

                    }
                    else if (thisid.includes("traffic")) {
                        if (!managermodecheck)
                            click_categoryBox = "traffic";

                        $("#new-obj-box-list-cover").css("display", "none")


                    }
                    searchinput();
                })
                $('.fileSorting').change(function () {
                    if (this.checked) {
                        if (this.value == "nameReverse")
                            nameSort_main(true);
                        else
                            nameSort_main(false)
                    }
                });
                $("#new-obj-box-list-cover").click(function () {
                    $(this).css("display", "none");

                });
                $("#new-obj-box-import-morebtn").click(function () { //더보기버튼 클릭
                    $("#main-new-obj-box-morepage").css("display", "block")
                    $("#main-new-obj-box-createobj").css("display", "none")
                    $("#new-obj-box-import-morebtn").css("visibility", "hidden")
                })
                $("#main-new-obj-box-icon-left").click(function () { //뒤로가기버튼클릭
                    closeimportcolor();
                    if ($("#main-new-obj-box-morepage").css("display") == "block") {
                        $("#main-new-obj-box-morepage").css("display", "none")
                        $("#main-new-obj-box-createobj").css("display", "block")
                        $("#new-obj-box-import-morebtn").css("visibility", "visible")

                    }
                    else if ($("#main-new-obj-box-createobj").css("display") == "block") {
                        $("#main-new-obj-box-assets").css("display", "block")
                        $("#main-new-obj-box-back").css("visibility", "hidden");
                        $("#main-new-obj-box-createobj").css("display", "none")
                        gofirstview();
                    }
                    else if ($("#main-new-obj-box-search").css("display") == "block") {
                        $("#search-info").css("display", "none")
                        $("#main-new-obj-box-objlist").css("display", "block")

                        gofirstview();
                    }


                })
                $("#main-new-obj-box-icon-img").click(function () {
                    $("#main-new-obj-box-upload").css("display", "block")
                    $("#main-new-obj-box-createobj").css("display", "none")
                    $("#main-new-obj-box-morepage").css("display", "none")
                    $("#main-new-obj-box-assets").css("display", "none")


                })
                $("#main-new-obj-box-icon-search").click(function () { //서치버튼 클릭
                    $("#main-new-obj-box-search").css("display", "block")
                    $("#main-new-obj-box-category").css("display", "none")
                    $("#objlist-control-sort").css("display", "none")
                    $("#objlist-control-word").css("display", "block")
                    $("#main-new-obj-box-back").css("visibility", "visible");
                    $("#main-new-obj-box-objlist").css("display", "none")
                    $("#search-info").css("display", "flex")
                    searchinput();
                })
                $("#obj-box-Objlist-searching").on("input", function () {
                    $("#main-new-obj-box-objlist").css("display", "block")
                    searchinput();
                    cursoron = true;
                });
                $("#editor-modelProperty-explanation-input").on("input", function () {
                    cursoron = true;
                })
                function gofirstview() {
                    $("#main-new-obj-box-search").css("display", "none")
                    $("#main-new-obj-box-createobj").css("display", "none")
                    $("#main-new-obj-box-category").css("display", "block")
                    $("#main-new-obj-box-assets").css("display", "block")
                    $("#objlist-control-sort").css("display", "block")
                    $("#objlist-control-word").css("display", "none")
                    $("#main-new-obj-box-import-disable").css("display", "none")
                    $("#main-new-obj-box-back").css("visibility", "hidden");
                    $("#main-new-obj-box-title-3dassets").text(
                        "3D Assets"
                    );
                    $("#new-obj-box-import-morebtn").css("visibility", "visible")

                    $("#editor-view-modelProperty-import").css("display", "none")
                    document.getElementById("obj-box-Objlist-searching").value = "";
                    searchinput();
                    $("#main-new-obj-box-objlist").css("display", "block")
                    cursoron = false;

                }
                $("#help-icon-event").hover(
                    function () {
                        // 호버됐을 때
                        $("#help-dropdown").css("display", "block");
                    },
                    function () {
                        // 호버가 해제됐을 때
                        $("#help-dropdown").css("display", "none");
                    }
                );

                document.getElementById("editor-icons-modeling").onclick = function () { document.getElementById("main-new-obj-box").style.visibility };
                document.getElementById("view-bar-editorChange-btn").onclick = function () { gizmooff() };
                document.getElementById("view-bar-save-btn").onclick = function () { saveDataToJson() };
                document.getElementById("editor-icons-modeling").addEventListener('change', function () {
                    if (this.checked) {
                        document.getElementById("main-new-obj-box").style.display = "block";
                        exitbtnclick += 1;

                        this.style.backgroundColor = 'var(--select-background-color)';
                    }
                    else {
                        const parentDiv = document.getElementById('main-new-obj-box');

                        gofirstview();
                        document.getElementById("main-new-obj-box").style.display = "none";
                        this.style.backgroundColor = 'var(--view-bar-btn-color)';
                        exitbtnclick -= 1;
                        closeimportcolor();
                    }
                })

                $("#viewBarCheckbox").change(function () {
                    if (this.checked) {
                        $("#view-bar-manage-btn").css("backgroundColor", "var(--select-background-color)")
                        let managedivtemp = document.getElementById("manage-user-password");
                        let clonemanagedivtemp = managedivtemp.content.cloneNode(true);
                        document.body.appendChild(clonemanagedivtemp);
                        $("#manager-user-clear-btn").click(function () {
                            $("#view-bar-manage-btn").css("backgroundColor", "#1E1E1E")
                            $("#manage-user-div").remove();
                        });
                    }
                    else {
                        $("#view-bar-manage-btn").css("backgroundColor", "#1E1E1E")
                        $("#manage-user-div").remove();

                        changegeneralmode();
                    }
                })




                let vworldBoolen = true;
                // $('#view-bar-help-btn').click(function (e) {
                //     vworldBoolen = !vworldBoolen
                //     if (vworldBoolen) {
                //         map.setLayoutProperty('vworld', 'visibility', 'none');
                //     }
                //     else {
                //         map.setLayoutProperty('vworld', 'visibility', 'visible');
                //     }

                // })
startimport();
                customLayer.changeeditor();
                document.getElementById("view-bar-editorChange-btn-checkbox").addEventListener('change', function () {
                    if (this.checked) {
                        let e=null;
                        finishdrawline(e)
                        intitdraw();
                        recentclick = "";
                        $("#main-view-side-btn-distance-checkbox").css('background-color', "var(--btn-color)")
                        
                        $("#main-view-side-btn-area-checkbox").css("background-color", "var(--btn-color)")

                        
                    while (geojson.features.length > 0) {
                        geojson.features.pop();
                    }
                    draw.changeMode('simple_select');

                    }
                    else {

                        gofirstview();
                    }

                });
                document.getElementById("new-obj-box-import-importbtn").onclick = function () {
                    importOBJ();

                }
                console.log(temporarysensordata)
                document.getElementById("main-view-side-btn-search-img").addEventListener('click', e => {
                    if (document.getElementById("main-view-side-btn-search-img-checkbox").checked == false) {
                        document.getElementById("main-view-side-btn-search-input-div").style.display = "none";
                        document.getElementById("side-btn-search-input-clear").style.visibility = "hidden";
                        document.getElementById("main-view-side-btn-search-input").value = ""
                    } else {
                        document.getElementById("main-view-side-btn-search-input-div").style.display = "flex";
                        document.getElementById("side-btn-search-input-clear").style.visibility = "visible";
                    }
                });

                document.getElementById("editor-side-view-layer-icon").onclick = function () {
                    if (managermodecheck) {
                        customLayer.addobjectlist('Group' + manager_groupnum, 'group', false, true)
                        let par = new BABYLON.Mesh("Group" + manager_groupnum, this.scene)
                        let obj = {
                            allmesh_: par,
                            model_: par,
                            scalex_: 1,
                            scaley_: 1,
                            scalez_: 1,
                            divId: "Group" + manager_groupnum,
                            zoomlevel_: 1,
                            type: "Group",
                            explane: "",
                            JSONEditor: "",
                            marker: 0,
                            modelingType: "Group",
                            worldMatrix: { _x: 0, _y: 0, _z: 0 },
                            originscale: { _x: 1, _y: 1, _z: 1 },
                            objmode: "manager",
                        };
                        manager_modelObj.push(obj);
                        //console.log(document.getElementById("Group" + groupnum))
                        document.getElementById("Group" + manager_groupnum).className += ' group-div';
                        //parentmesh.push(par);
                        manager_groupnum += 1;
                    }
                    else {
                        customLayer.addobjectlist('Group' + groupnum, 'group', false, false)
                        let par = new BABYLON.Mesh("Group" + groupnum, this.scene)
                        let obj = {
                            allmesh_: par,
                            model_: par,
                            scalex_: 1,
                            scaley_: 1,
                            scalez_: 1,
                            divId: "Group" + groupnum,
                            zoomlevel_: 1,
                            type: "Group",
                            explane: "",
                            JSONEditor: "",
                            marker: 0,
                            modelingType: "Group",
                            worldMatrix: { _x: 0, _y: 0, _z: 0 },
                            originscale: { _x: 1, _y: 1, _z: 1 },
                            objmode: "general",
                        };
                        modelObj.push(obj);
                        //console.log(document.getElementById("Group" + groupnum))
                        document.getElementById("Group" + groupnum).className += ' group-div';
                        //parentmesh.push(par);
                        groupnum += 1;
                    }



                };
                let recentclick = "";
                let beforeChecked = -1;

                // let sound = new BABYLON.Sound("mySound", "https://dt.gractor.com/file/AlarmSound.mp3", this.scene, function () {
                //     // 소리가 준비되면 실행되는 콜백
                //     sound.play(); // 소리 재생
                //     console.log(sound)
                // });



                let utilLayer = new BABYLON.UtilityLayerRenderer(this.scene);
                gizmoManager = new BABYLON.GizmoManager(this.scene, 1, utilLayer);
                gizmoManager.attachableMeshes = [];

                const cameraAltitude = 4000;
                let container;

                let objlen = Object.keys(objectlist).length;
                //포켓베이스
                // objectlist2 = loadmodel_info();
                // document.addEventListener("DOMContentLoaded", function () {
                //     loadmodel_info().then((v) => {
                //         console.log("Main function completed.");
                //         objectlist2 = v;
                //         for (let key in objectlist2) {
                //             startmakelist(objectlist2[key]);
                //         }
                //         //connectbtnevent();
                //         connectimport();
                //     }).catch((error) => {
                //         console.error("Error in main function:", error);
                //     });
                // });

                for (let key in objectlist) {
                    if (objectlist[key].name != "Group")
                        startmakelist(objectlist[key]);
                } let objCreateListCount = 0;
                for (let key in objectlist) {
                    studioMakeList(objectlist[key]);
                    objCreateListCount++
                }
                nameSort_main(false)
                document.getElementById("obj-counting").innerHTML = "( " + (objCreateListCount - 1) + " )"
                //connectbtnevent();
                connectimport();
                viewpagefunc();
                customLayer.addobjectlist('Group' + groupnum, 'group', false)
                let par = new BABYLON.Mesh("Group" + groupnum, this.scene)
                let obj = {
                    allmesh_: par,
                    model_: par,
                    scalex_: 1,
                    scaley_: 1,
                    scalez_: 1,
                    divId: "Group" + groupnum,
                    zoomlevel_: 1,
                    type: "Group",
                    explane: "",
                    JSONEditor: "",
                    marker: 0,
                    modelingType: "Group",
                    worldMatrix: { _x: 0, _y: 0, _z: 0 },
                    originscale: { _x: 1, _y: 1, _z: 1 },
                    objmode: "general",
                };
                modelObj.push(obj);
                groupnum += 1;
                recentgroup = "Group0";
                changebackgroundcolorobject("Group0");


                customLayer.addobjectlist('Map', 'Map', false, true)
                par = new BABYLON.Mesh("Map", this.scene)
                obj = {
                    allmesh_: par,
                    model_: par,
                    scalex_: 1,
                    scaley_: 1,
                    scalez_: 1,
                    divId: "Map",
                    zoomlevel_: 1,
                    type: "Map",
                    explane: "",
                    JSONEditor: "",
                    marker: 0,
                    modelingType: "Map",
                    worldMatrix: { _x: 0, _y: 0, _z: 0 },
                    originscale: { _x: 1, _y: 1, _z: 1 },
                    objmode: "manager",
                };
                manager_modelObj.push(obj);








                //createPopUp();
                let countlabel = document.getElementById("new-obj-box-label_num");
                countlabel.innerText = objlen - 3; //일단 임의로 숫자 지정, 나중에 센서 뺴야함




                gizmoManager.positionGizmoEnabled = true;
                gizmoManager.rotationGizmoEnabled = true;
                gizmoManager.scaleGizmoEnabled = true;

                gizmoManager.gizmos.positionGizmo.updateScale = false;
                gizmoManager.gizmos.scaleGizmo.updateScale = false;
                gizmoManager.gizmos.rotationGizmo.updateScale = false;
                gizmoManager.gizmos.scaleGizmo.uniformScaleGizmo.updateScale = false;  // scale중심점

                customLayer.allgizmofalse();
                gizmoManager.gizmos.scaleGizmo.sensitivity = 0.1;

                //로컬 글로벌
                gizmoManager.gizmos.positionGizmo.updateGizmoRotationToMatchAttachedMesh = false;
                gizmoManager.gizmos.scaleGizmo.updateGizmoRotationToMatchAttachedMesh = false;
                gizmoManager.gizmos.rotationGizmo.updateGizmoRotationToMatchAttachedMesh = false;




                /**
                 * json이름 넣어서 사용
                 */
                //document.removeEventListener("keydown", studiokeydown);
                document.addEventListener("keydown", mainkeydown);

                document.onclick = (e) => {
                    customLayer.checkclick(e.target);

                }

                //실시간(이벤트 작동시) 객체에 값 수정 [인스펙터]
                let elements = document.getElementsByClassName("ObjectInfo_Input_value");
                for (let i = 0; i < elements.length; i++) {
                    elements[i].addEventListener("input", function () {
                        // 이벤트가 발생할 때 수행할 동작을 여기에 작성
                        setObjectTransformToInspector();

                        set_inspector_JSON();

                    });
                }

                gizmoCheck();
                this.scene.onPointerObservable.add(function (evt) {
                    if (evt.type == 8) {
                        zoomLevel_ = (maxZoomuse - map.getZoom() + 1) * (maxZoomuse - map.getZoom() + 1) * 5
                        //console.log(map.getZoom())

                        gizmoManager.gizmos.scaleGizmo.scaleRatio = zoomLevel_;
                        gizmoManager.gizmos.rotationGizmo.scaleRatio = zoomLevel_;
                        gizmoManager.gizmos.positionGizmo.scaleRatio = zoomLevel_;
                    }
                    if (clickedgizmo) {
                        if (!isscale) {
                            rescale();
                        }

                        setInspectorTransform();

                    }
                    if (evt.event.button === 0) {
                        offset = container;
                        if (evt.pickInfo.hit && evt.pickInfo.pickedMesh) {
                             let thismodel;
                        if (managermodecheck) {
                            thismodel = manager_modelObj;
                        }
                        else {
                            thismodel = modelObj;
                        }
                        console.log(findRootMesh(evt.pickInfo.pickedMesh))
                        for (let i = 0; i < thismodel.length; i++) {
                            if (thismodel[i].model_.name == findRootMesh(evt.pickInfo.pickedMesh).name) {
                                document.getElementById("main-editor-side-view-property-property").style.visibility = "visible";
                                islistselect = thismodel[i].model_;
                                // document.getElementById("main-editor-view-property-property-disable").style.visibility="visible";
                                customLayer.deselectMesh();
                                customLayer.allgizmofalse();
                                selectMesh(thismodel[i].model_, thismodel[i])
                                //selectedMesh = modelObj[i];   //객체 자체를삽입.. ㅎ
                                //console.log("1486",selectedMesh)
                                customLayer.addoutline();
                                gizmoManager.attachToMesh(islistselect);
                                setInspectorTransform()
                                markerListReset();
                            }
                        }
                            //customLayer.deselectMesh();
                            //gizmoManager.attachToMesh(findRootMesh(evt.pickInfo.pickedMesh));
                            // selectedMesh
                            // //setInspectorTransform();
                            // markerListReset();
                            // setInspectorTransform();
                        }

                    }
                });


                this.scene.onPointerDown = (evt) => {
                    const pickInfo = this.scene.pick(this.scene.pointerX, this.scene.pointerY, (mesh) => mesh != null);
                    const worldPointer = pickInfo.pickedPoint;
                    if (pickInfo.pickedPoint != null) {
                        let gpspost = toGPS([worldPointer.x, worldPointer.z]);
                        bearingData = map.getBearing();
                        pitchData = map.getPitch();
                        startpointx = evt.clientX;
                        startpointy = evt.clientY;
                        ismouseclick = true;
                        inputmousenum = evt.inputIndex;
                        prepointx = clientwidth - evt.clientX;
                        prepointy = evt.clientY;
                        if(evt.inputIndex==4){
                            
                    let saveinfo = pickInfo.pickedMesh;
                    console.log(pickInfo.pickedMesh)
                    if (pickInfo.pickedMesh != null && pickInfo.pickedMesh.id!= "hdrSkyBox") {
                        while (saveinfo.id != "__root__") {
                            saveinfo = saveinfo._parentNode;
                        }
                        saveinfo = saveinfo._parentNode.name;

                         let modelingType = "";
                        modelObj.forEach(models => {
                            //console.log(models.divId, saveinfo)
                            if (models.divId == saveinfo)
                                modelingType = models.modelingType;
                        })
                        studiotopopup(evt, saveinfo, pickInfo.pickedMesh, modelingType)
                    }

                    
                        let modelingType="";
                        modelObj.forEach(models=>{
                            if(models.divId == saveinfo)
                            modelingType= models.modelingType;
                        })
                            console.log()

                            $(".obj-studio-view").remove();
                            if(pickInfo.pickedMesh.name!="hdrSkyBox"&& pickInfo.pickedMesh!=null)
                            studiotopopup(evt, saveinfo, pickInfo.pickedMesh,modelingType)
                        

                    }
                    }
                    //studiotopopup

                }

                this.scene.onPointerMove = (evt) => {
                    const pickInfo = this.scene.pick(this.scene.pointerX, this.scene.pointerY, (mesh) => mesh != null);
                    //console.log(inputmousenum)
                    //console.log(pickInfo)
                    if (ismouseclick && pickInfo.pickedPoint != null && inputmousenum == 2) {
                        const worldPointer = pickInfo.pickedPoint;
                        let gpspost = toGPS([worldPointer.x, worldPointer.z]);

                        let bearingDiff = (-map.getBearing());
                        let nowpointx = clientwidth - evt.clientX;
                        let nowpointy = evt.clientY;

                        let changex = nowpointx - prepointx;
                        let changey = nowpointy - prepointy;


                        let newvector = new BABYLON.Vector3(changex, changey, 0);
                        let directionvector = new BABYLON.Vector3(changex, changey, 0);

                        let quaternion = new BABYLON.Quaternion.RotationAxis(new BABYLON.Vector3(0, 0, 1), (bearingDiff * Math.PI) / 180);
                        let rotationMatrix = new BABYLON.Matrix();
                        quaternion.toRotationMatrix(rotationMatrix);
                        let rotatedDirectionVector = new BABYLON.Vector3.TransformCoordinates(directionvector, rotationMatrix);
                        prepointx = nowpointx;
                        prepointy = nowpointy;
                        let center = map.getCenter();
                        zoomLevel_ = (20 - map.getZoom() + 1) * (20 - map.getZoom() + 1) * 5
                        let newCenter3 = [(center.lng + rotatedDirectionVector.x * 0.00000004 * (zoomLevel_ * 2)), (center.lat + rotatedDirectionVector.y * 0.00000004 * (zoomLevel_ * 2))];

                        map.setCenter(newCenter3);



                    }
                    else if (ismouseclick && pickInfo.pickedPoint != null && inputmousenum == 4) {

                        let nowpointx = clientwidth - evt.clientX;
                        let nowpointy = evt.clientY;

                        let changex = nowpointx - prepointx;
                        let changey = nowpointy - prepointy;

                        map.setBearing(bearingData - (changex / 2))
                        map.setPitch(pitchData - changey / 2)
                    }
                }


                //console.log(map.getLayer('TN_BULD_3D').visibility)
                //map.getLayer('TN_BULD_3D').visibility="none"

                this.map = map;
                ////////////////////////////////////////////////////////////////////////
                let scale = new maplibregl.ScaleControl({
                    maxWidth: 80,
                    unit: 'imperial'
                });
                map.addControl(scale);

                scale.setUnit('metric');
                //////////////////////////////////////////////////////////////////////

                const draw = new MapboxDraw({
                    displayControlsDefault: false,
                    controls: {
                        polygon: true,
                        trash: true
                    }
                });

                this.map.addControl(draw);


                this.map.on('draw.create', updateArea);
                this.map.on('draw.delete', updateArea);
                this.map.on('draw.update', updateArea);
                let areanum = 0;

                function updateArea(e) {
                    const data = draw.getAll();
                    const answer = document.getElementById('calculated-area');
                    if (data.features.length > 0) {
                        if(areanum<0)
                        areanum =0;
                        const area = turf.area(data.features[areanum]);
                        babylonCoordinates = (ToBabylonPos(
                            GetMercatorPos([data.features[areanum].geometry.coordinates[0][0][0], data.features[areanum].geometry.coordinates[0][0][1]])));

                        // restrict to area to 2 decimal points
                        const roundedArea = Math.round(area * 100) / 100;

                        const checkbox = document.getElementById('main-view-side-btn-area-checkbox'); // 체크박스의 ID로 변경
                        checkbox.checked = false;
                        $("#main-view-side-btn-area-checkbox").css("background-color", "var(--btn-color)");
                        recentclick = "";

                        let areaDiv = makedrawdiv(roundedArea, data.features[areanum].id, "area");

                        $(document).on('click', "#" + data.features[areanum].id.toString(), function () {
                            let num = 0;
                            popups.forEach(child => {
                                if (child.id == this.id) {
                                    child.remove();
                                    popups.slice(num, 1);
                                    data.features.slice(num, 1);
                                    areanum -= 1;
                                }
                                num += 1;
                            })
                            draw.delete(this.id);
                        })
                        
                    document.querySelector('#map canvas').classList.remove('areaClicked-cursor');
                    document.querySelector('#map canvas').classList.remove('rulerClicked-cursor');
                        const popup = new mapboxgl.Popup({ closeOnClick: false })
                            .setLngLat([data.features[areanum].geometry.coordinates[0][0][0], data.features[areanum].geometry.coordinates[0][0][1]])
                            .setDOMContent(areaDiv)
                            .addTo(map);
                        popup.id = data.features[areanum].id;
                        popups.push(popup);
                        areanum += 1;
                    }


                    data.features.forEach(feature => {
                        feature.properties = { 'userProperties': { 'no-edit': true } };
                    });
                }

                $("#main-view-side-btn-area-checkbox").click(function () {
                    draw.changeMode('draw_polygon');


                })
                ////////////////////////////////////////////////////////////////////////
                const distanceContainer = document.getElementById('distance');

                // Used to draw a line between points

                // GeoJSON object to hold our measurement features
                const geojson = {
                    'type': 'FeatureCollection',
                    'features': []
                };

                // Used to draw a line between points
                const linestring = {
                    'type': 'Feature',
                    'geometry': {
                        'type': 'LineString',
                        'coordinates': []
                    }
                };

                this.map.on("load", () => {
                    this.map.on('click', e => {
                        if (!makejson) {
                            while (this.map.getSource("geojson" + geojsonid)) {
    geojsonid++;
} 
                            this.map.addSource("geojson" + geojsonid, {
                                type: "geojson",
                                data: geojson,
                            });
                            // Add styles to the map
                            this.map.addLayer({
                                id: "measure-points" + geojsonid,
                                type: "circle",
                                source: "geojson" + geojsonid,
                                paint: {
                                    "circle-radius": 6,
                                    "circle-color": "#3988E5",

                                },
                                filter: ["in", "$type", "Point"],
                            });
                            this.map.addLayer({
                                id: "measure-lines" + geojsonid,
                                type: "line",
                                source: "geojson" + geojsonid,
                                layout: {
                                    "line-cap": "round",
                                    "line-join": "round",
                                },
                                paint: {
                                    "line-color": "#3988E5",
                                    "line-width": 2,
                                },
                                filter: ["in", "$type", "LineString"],
                            });
                            usegeojsonid = geojsonid;
                            geojsonid += 1;
                            makejson = true;
                        }
                        if (drawstartline) {
                            drawstartlinemove = true;
                            recentclick = "";

                            const features = this.map.queryRenderedFeatures(e.point, {
                                layers: ['measure-points' + usegeojsonid]
                            });
                            if (geojson.features.length > 1) geojson.features.pop();


                            // If a feature was clicked, remove it from the map
                            if (features.length) {
                                const id = features[0].properties.id;
                                geojson.features = geojson.features.filter((point) => {
                                    return point.properties.id !== id;
                                });
                            } else {
                                const point = {
                                    'type': 'Feature',
                                    'geometry': {
                                        'type': 'Point',
                                        'coordinates': [e.lngLat.lng, e.lngLat.lat]
                                    },
                                    'properties': {
                                        'id': String(new Date().getTime())
                                    }
                                };
                                geojson.features.push(point);


                            }
                            if (geojson.features.length > 1) {
                                linestring.geometry.coordinates = geojson.features.map(
                                    (point) => {
                                        return point.geometry.coordinates;
                                    }
                                );
                                const popup = new mapboxgl.Popup({ closeOnClick: false })
                                    .setLngLat([e.lngLat.lng, e.lngLat.lat])
                                    .setDOMContent(makelendiv(turf.length(linestring).toLocaleString()))
                                    .addTo(map);
                                geojson.features.push(linestring);

                                popup.id = usegeojsonid;
                                popupsline.push(popup);
                            }

                            drawdiv = makedrawdiv(turf.length(linestring).toLocaleString(), usegeojsonid, "line")
                            $(document).on('click', "#" + usegeojsonid.toString(), function () {
                                let num = 0;
                                popupsline.forEach(child => {
                                    if (child.id == this.id) {
                                        child.remove();
                                        popupsline.slice(num, 1);
                                        
                         if (map.getLayer("measure-points" + child.id)) {
                            map.removeLayer("measure-points" + child.id);
                            map.removeLayer("measure-lines" + child.id);
                            map.removeSource('geojson' + child.id); //확인필요
                        }
                                    }
                                    num += 1;
                                })
                                num = 0;
                                popupslinearea.forEach(child => {
                                    if (child.id == this.id) {
                                        child.remove();
                                        popupslinearea.slice(num, 1);
                                        if (map.getLayer("measure-points" + this.id)) {
                                            map.removeLayer("measure-points" + this.id);
                                            map.removeLayer("measure-lines" + this.id);
                                            map.removeSource(('geojson' + this.id));
                                        }


                                    }
                                    num += 1;
                                })
                            })
                            map.getSource('geojson' + usegeojsonid).setData(geojson);


                        }
                        this.map.on('mousemove', (e) => {

                            if (drawstartlinemove) {
                                if (geojson.features.length > 1) { geojson.features.pop(); }
                                const point = {
                                    'type': 'Feature',
                                    'geometry': {
                                        'type': 'Point',
                                        'coordinates': [e.lngLat.lng, e.lngLat.lat]
                                    },
                                    'properties': {
                                        'id': String(new Date().getTime())
                                    }
                                };
                                geojson.features.push(point);
                                if (geojson.features.length > 1) {

                                    linestring.geometry.coordinates = geojson.features.map(
                                        (point) => {
                                            return point.geometry.coordinates;
                                        }
                                    );
                                    //console.log(linestring)
                                    //console.log(turf.length(linestring).toLocaleString());

                                }
                                else {
                                    if (geojson.features.length > 1) geojson.features.pop();
                                }
                            }

                        });


                    });
                });

                document.addEventListener("click", function (event) {
                    if (event.target.id != "new-memo-morebtn")
                        $("[id='new-memo-control']").css("display", "none");
                });
                this.map.on('zoom', () => {
                    // 현재 지도의 줌 레벨 가져오기
                    let currentZoom = map.getZoom();
                    // 지정된 줌 레벨 범위에 따라 마커 보이기/숨기기
                    if (objmarker != null) {
                        if (currentZoom < markermaxZoomLevel) {
                            objmarker.forEach(element => {
                                element.getElement().style.display = 'block';
                            });
                        } else {
                            objmarker.forEach(element => {
                                element.getElement().style.display = 'none';
                            });
                        }
                    }

                });

                this.scene.onPointerUp = (evt) => {
                    ismouseclick = false;
                    inputmousenum = 0;
                }
                this.map.on('contextmenu', (e) => {
                    const pixelCoords = e.point;
                  // console.log(pixelCoords)
                    // Babylon.js의 Raycasting 기능을 사용하여 클릭된 매쉬를 찾음
                    const pickInfo = this
                        .scene
                        .pick(pixelCoords.x, pixelCoords.y)
                    let saveinfo = pickInfo.pickedMesh;
                    if (pickInfo.pickedMesh != null) {
                        while (saveinfo.id != "__root__") {
                            saveinfo = saveinfo._parentNode;
                        }
                        saveinfo = saveinfo._parentNode.name;

                    }
                });
                this.map.on('click', e => {
                    const pixelCoords = e.point;
                    // Babylon.js의 Raycasting 기능을 사용하여 클릭된 매쉬를 찾음
                    const pickInfo = this
                        .scene
                        .pick(pixelCoords.x, pixelCoords.y)
                    //console.info('  🚀  pickInfo:', pickInfo)
                    let saveinfo = pickInfo.pickedMesh;
                    if (pickInfo.pickedMesh != null) {
                        while (saveinfo.id != "__root__") {
                            saveinfo = saveinfo._parentNode;
                        }
                        saveinfo = saveinfo._parentNode.name;
                        if (!iseditormode) {
                            sendinfotopopup(e, saveinfo)

                        }

                    } else {
                        if (markeron) {

                            $(".obj-info-view").remove();
                            $(".obj-studio-view").remove();

                            markeron = false;
                        }
                    }


                    // map.setPaintProperty(
                    //   "TN_BULD_3D",'fill-extrusion-color',
                    //     "yellow"
                    // );
                    // map.setPaintProperty(
                    //     "TN_RIVER_BNDRY", 'fill-color',
                    //     "black"
                    // );

                });
                map.setPaintProperty('TN_BULD_3D', 'fill-extrusion-color', [
                    'match',
                    ['get', 'id'],
                    clickedBuildingIdList, //클릭 된 빌딩 id배열
                    otherBULD_color.clickedBD, // 클릭된 빌딩의 색상
                    // 다른 빌딩의 색상은 그대로 유지
                    [
                        'match',
                        ['get', 'bprp_se'],
                        'BDU010', otherBULD_color.BDU010,
                        'BDU013', otherBULD_color.BDU013,
                        'BDU016', otherBULD_color.BDU016,
                        'BDU027', otherBULD_color.BDU027,
                        'BDU007', otherBULD_color.BDU007,
                        'BDU009', otherBULD_color.BDU009,
                        'BDU014', otherBULD_color.BDU014,
                        'BDU002', otherBULD_color.BDU002,
                        'BDU001', otherBULD_color.BDU001,
                        otherBULD_color.default // 기본 색상
                    ]
                ]);

                this.map.on('mousedown', 'TN_BULD_3D', function (e) {
                   // console.log(e)
                    //console.log("건물 id", e.features[0].properties.id);
                    if (e.originalEvent.buttons == 1) {

                        if (clickedBuildingIdList.includes(e.features[0].properties.id)&& !drawstartline && recentclick=="") {
                            $(".modelinfo-view-title-bottom-name").attr("id", "Smart Green Industrial Complex")
                            const newData = {};
                            var existingDataString = localStorage.getItem("Smart Green Industrial Complex");
                            if (existingDataString == null) {
                                // 새로운 JSON 저장소를 로컬 스토리지에 저장
                                localStorage.setItem("Smart Green Industrial Complex", JSON.stringify(newData));
                            }
                            $("#modelinfo-view").css("display", "flex");
                            advancedTextureclear(advancedTexture3);
                            viewmode(facility_name);
                            
                            //이름 바꿔주고,,, 타입 바꿔주고
                            $(".modelinfo-view-title-bottom-name").text("Smart Green Industrial Complex")

                            $("#modelinfo-view-title-TypeImg img").attr("src", './img/marker/viewerMarker_facility.png')


                        }
                    }
                })

                this.map.on('mousedown', e => {
                    const pixelCoords = e.point;
                    // Babylon.js의 Raycasting 기능을 사용하여 클릭된 매쉬를 찾음
                    const pickInfo = this
                        .scene
                        .pick(pixelCoords.x, pixelCoords.y)
                    if (markeron) {

                        $(".obj-info-view").remove();
                        $(".obj-studio-view").remove();

                        markeron = false;
                    }
                    if (drawstartline) {
                        if (e.originalEvent.button === 2) {
                            if (drawstartlinemove) {

                                finishdrawline(e);

                            }

                        }
                    }

                });
                this.map.on('dblclick', function (e) {
                   if (drawstartline) {
                         if (drawstartlinemove) {
                              e.preventDefault(); 
                              
                           

                       }
                       
                    }
                });

                function finishdrawline(e){
                    
                    document.querySelector('#map canvas').classList.remove('areaClicked-cursor');
                    document.querySelector('#map canvas').classList.remove('rulerClicked-cursor');
                    if(e!=null){
                    const popup = new mapboxgl.Popup({ closeOnClick: false })
                        .setLngLat([e.lngLat.lng, e.lngLat.lat])
                        .setDOMContent(drawdiv)
                        .addTo(map);
                        
                    popup.id = usegeojsonid;
                    popupslinearea.push(popup);
                    }
                    geojson.features.push(linestring);
                    $("#main-view-side-btn-distance-checkbox").css('background-color', "var(--btn-color)")
                    while (geojson.features.length > 0) {
                        geojson.features.pop();
                    }
                    intitdraw();
                    recentclick = "";
                }
                this.map.on('wheel', function (e) {
                    if (markeron) {

                        $(".obj-info-view").remove();
                        $(".obj-studio-view").remove();

                        markeron = false;
                    }
                });


            },
            render(gl, matrix) {
                const cameraMatrix = BABYLON.Matrix.FromArray(matrix);

                // world-view-projection matrix
                const wvpMatrix = worldMatrix.multiply(cameraMatrix);

                this.camera.freezeProjectionMatrix(wvpMatrix);

                //  let newCamera = new BABYLON.ArcRotateCamera("newCamera", 0, // alpha
                //     0, // beta
                //     10, // radius
                //     new BABYLON.Vector3(0, 0, 0), this.scene);
                // this.scene.enableDepthRenderer();
                // this.scene.activeCamera = newCamera;
                // let pipeline = new BABYLON.DefaultRenderingPipeline("default", true, this.scene);
                // pipeline.getDepthRenderer().useOnlyInActiveCamera = false; 

                // // 새로 조절한 카메라로 렌더링
                // this.scene.render();



                this.scene.render(false);
                this.map.triggerRepaint();
            },
            changeeditor() {
                iseditormode = !iseditormode;
                if (iseditormode) {
                    this
                        .scene
                        .attachControl();
                    document.querySelectorAll(".viewmodeBtn").forEach(btn=>{
                        //console.log(btn)
                        btn.style.display = "none"
                    })

                    document.getElementById("view-bar-name").innerHTML = "Editor"
                    document.getElementById("view-bar-editor-icons").style.visibility = "visible";
                    document.getElementById("main-editor-side-view").style.display = "flex";
                    //markerListReset();
                    $("#view-bar-editor-icons-Editorfunc").css('display', 'flex')
                    $("#categoryBtn").prop("checked", false);
                    $("#view-bar-manage-btn").css("display", "block")

                    $("#view-bar").css("backgroundColor", "var(--view-bar-color)");
                    $("#view-bar-editorChange-btn").css("backgroundColor", "var(--view-bar-color)");
                    $("#editor-icons-home").css("backgroundColor", "var(--view-bar-color)");
                    $("#main-top-bar").css("backgroundColor", "var(--main-top-bar)");
                    $("#view-bar-lasttime-btn").css("display", "block");
                    $("#view-bar-save-btn").css("display", "flex");
                }
                else {
                    this
                        .scene
                        .detachControl();

                    document.querySelectorAll(".viewmodeBtn").forEach(btn=>{
                        btn.style.display = "flex"
                    })

                    document.getElementById("view-bar-name").innerHTML = "Viewer"
                    //document.getElementById("view-bar-editor-icons").style.visibility = "hidden";
                    document.getElementById("main-editor-side-view").style.display = "none";
                    // let checkedRadio = document.querySelector('#view-bar-editor-icons input[name="editoricon"]:checked');
                    // console.log(checkedRadio)
                    // checkedRadio.checked = false;
                    //checkedRadio.style.backgroundColor = "var(--view-bar-btn-color)";
                    $("#main-new-obj-box").css('display', "none");
                    closeimportcolor();
                    $("#view-bar-editor-icons-Editorfunc").css('display', 'none')
                    $("#view-bar-manage-btn").css("display", "none")

                    $("#view-bar").css("backgroundColor", "var(--viewer-mode-color)");
                    $("#view-bar-editorChange-btn").css("backgroundColor", "var(--btn-color)");
                    $("#editor-icons-home").css("backgroundColor", "var(--viewer-mode-color)");
                    $("#main-top-bar").css("backgroundColor", "var(--main-top-bar-view)");
                    $("#view-bar-lasttime-btn").css("display", "none");
                    $("#view-bar-save-btn").css("display", "none");

                }
                if (markeron) {

                    $(".obj-info-view").remove();
                    $(".obj-studio-view").remove();

                    markeron = false;
                }
                document.getElementById("main-new-obj-box").style.display = this.checked ? 'none' : 'none';
                document.getElementById("editor-icons-modeling").checked = false;
                document.getElementById("editor-icons-modeling").style.backgroundColor = 'var(--view-bar-btn-color)';

            },
            addobjectlist(objname, objtype, isunder, manager = false) {
                let objtable;
                if (manager) {
                    if (objtype == "Map") {
                        recentgroup = objname;
                        objtable = document.getElementById("editor-side-view-layer-objects-lists-manager");
                        recentgroup = "Group0";
                    }
                    else if (objtype == "group") {
                        recentgroup = objname;
                        objtable = document.getElementById("editor-side-view-layer-objects-lists-manager");
                    }
                    else if (isunder) {
                        let nowclickhierarchy = document.getElementById(clickhierarchyinfo);
                        objtable = nowclickhierarchy;

                    }
                    else {
                        let nowclickhierarchy = document.getElementById(recentgroup);
                        objtable = nowclickhierarchy;
                        let m = findmodelmanager(recentgroup);
                        let c = findmodelmanager(objname);
                        c.model_.parent = m.model_;
                    }
                }
                else {
                    if (objtype == "group") {
                        recentgroup = objname;
                        objtable = document.getElementById("editor-side-view-layer-objects-lists");

                    }
                    else if (isunder) {
                        let nowclickhierarchy = document.getElementById(clickhierarchyinfo);
                        objtable = nowclickhierarchy;

                    }
                    else {
                        let nowclickhierarchy = document.getElementById(recentgroup);
                        objtable = nowclickhierarchy;
                        let m = findmodel(recentgroup);
                        let c = findmodel(objname);
                        c.model_.parent = m.model_;
                    }
                }

                let masterdiv = document.createElement('div');
                let parentdiv = document.createElement('div');
                let newdiv = document.createElement('div');
                let tabbtn = document.createElement('input');
                let newbtn = document.createElement('input');
                let newtext = document.createTextNode(objname);

                parentdiv.onclick = changebackgroundcolor;

                let dragzone = document.getElementById("main-editor-side-view-layer-layer");
                let draglist = document.getElementById("editor-side-view-layer-objects-lists");
                masterdiv.draggable = "true"
                //masterdiv.style.backgroundColor = "let(--selectBox-model-name)";
                masterdiv.addEventListener('dragstart', function (ev) {
                    ev.dataTransfer.effectAllowed = 'move';
                    if (dragfirst == "") {
                        ev.dataTransfer.setData('text', this.id);
                        dragfirst = this.id;
                        changebackgroundcolorobject(this.id);
                    }

                })
                dragzone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });
                dragzone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    let data = e.dataTransfer.getData("text");
                    if (data != "") {
                        let finddiv = document.getElementById(data);
                        if (finddiv.parentNode.className == "masterdiv icon-clicked") {
                            let findm;
                            if (manager) {
                                findm = findmodelmanager(data);
                            }
                            else {
                                findm = findmodel(data);
                            }
                            if (findm.model_.parent != null) {
                                let findp;
                                if (manager) {
                                    findp = findmodelmanager(findm.model_.parent.name);
                                }
                                else {
                                    findp = findmodel(findm.model_.parent.name);
                                }
                                let pos = findm.model_.parent._position;
                                objectoutrescale(findp, findm);
                                //
                                //findm.model_._abso = pos;
                                let childpos = findm.model_._absolutePosition;
                                findm.model_.parent = null;
                                findm.model_.position = childpos;
                                console.log(findm, findp)
                                setInspectorTransform()

                            }
                        }
                        draglist.append(finddiv)
                        finddiv.style.marginLeft = "0";
                    }
                    dragfirst = ""
                    e.dataTransfer.setData('text', "");
                });
                masterdiv.addEventListener("dragover", function (e) {
                    e.preventDefault();
                })
                masterdiv.addEventListener("drop", function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    let data = e.dataTransfer.getData("text");
                    let finddiv = document.getElementById(data);
                    if (data != '' && data != this.id) {
                        this.append(finddiv)
                        finddiv.style.marginLeft = " 0.94rem ";

                        let parentm, childm;
                        if (manager) {
                            parentm = findmodelmanager(this.id);
                            childm = findmodelmanager(data);
                        }
                        else {
                            parentm = findmodel(this.id);
                            childm = findmodel(data);
                        }
                        if (parentm != null && childm != null) {
                            childm.model_.parent = parentm.model_;
                            childm.model_._position = new BABYLON.Vector3(0, 0, 0);
                            objectinrescale(parentm, childm)
                            // childm.model_._absolutePosition._x= parentm.model_._absolutePosition._x;
                            // childm.model_._absolutePosition._y= parentm.model_._absolutePosition._y;
                            // childm.model_._absolutePosition._z = parentm.model_._absolutePosition._z;
                            console.log(childm.model_._position, parentm.model_._position)
                            setInspectorTransform()
                        }

                        //childm.position = childm.getAbsolutePosition().subtract(parentm.getAbsolutePosition());

                        //childm.model_._position = new BABYLON.Vector3(0, 0, 0);
                    }
                    dragfirst = "";
                    let status = document.getElementById(this.id + "tab");
                    if (status.checked) {
                        finddiv.style.display = "none"
                    }

                })
                newdiv.oncontextmenu = changename;


                newdiv.appendChild(newtext);

                newdiv.id = objname;
                newdiv.style.width = "100%";

                newbtn.type = "checkbox";
                newbtn.className = "objlisteye icon-clicked";
                newbtn.id = objname;
                newbtn.onclick = objectlisteye;


                tabbtn.type = "checkbox";
                tabbtn.className += " objlisttab";
                tabbtn.id = objname + "tab";
                tabbtn.style.width = "1.5rem";
                tabbtn.style.height = "1.5rem";
                newdiv.style.marginRight = "0.69rem";
                if (objtype != 'group') {
                    newdiv.ondblclick = dblclickcameramove;
                    newdiv.className = "objlist";
                    newdiv.style.width = "100%";
                }
                else {
                    masterdiv.style.marginBottom = "0.31rem";
                    newdiv.className = "grouplist";
                    newdiv.style.width = "100%";
                }
                tabbtn.addEventListener('change', function () {
                    if (tabbtn.checked) {
                        let next = this.parentElement.nextSibling;
                        while (next != null) {
                            next.style.display = "none";
                            next = next.nextSibling;
                        }
                    } else {

                        let next = this.parentElement.nextSibling;
                        while (next != null) {
                            next.style.display = "block";
                            next = next.nextSibling;
                        }
                    }
                });




                masterdiv.className = "masterdiv icon-clicked";
                masterdiv.id = objname;
                parentdiv.id = objname;
                //masterdiv.style.height= "1.5rem";
                masterdiv.style.alignItems = "center";
                parentdiv.style.backgroundColor = "var(--transparent-default)";
                masterdiv.style.borderRadius = "0.1875rem";
                parentdiv.className = "parentdiv";
                parentdiv.style.cursor = "pointer";
                parentdiv.style.borderRadius = "0.1875rem";
                if (objtype != "group" && objtype != "Map") {
                    masterdiv.style.marginLeft = "1.25rem";
                }
                let icondiv = document.createElement('div');
                let icondiv_img = document.createElement('img')
                let iconnameURL = "./img/main_icon/" + objtype + ".png";

                let img = new Image();
                img.src = iconnameURL;

                img.onload = function () {
                };

                img.onerror = function () {
                    console.log(objtype)
                    iconnameURL = "./img/main_icon/" + "sensor" + ".png"
                    icondiv_img.src = iconnameURL;
                };

                icondiv_img.src = iconnameURL;


                icondiv.className = "icon-Sensor icon-clicked"
                //icondiv_img.style.width = "1.5rem";
                //icondiv_img.style.height = "1.5rem";
                icondiv.append(icondiv_img)

                let lockdiv = document.createElement('input');
                lockdiv.type = "checkbox";
                lockdiv.className = "lock-icon icon-clicked";
                lockdiv.style.width = "1.5rem";
                lockdiv.style.height = "1.5rem";
                lockdiv.onclick = objectListLock;

                parentdiv.append(tabbtn);
                parentdiv.append(icondiv);
                parentdiv.append(newdiv);
                parentdiv.append(newbtn);
                parentdiv.append(lockdiv);
                masterdiv.append(parentdiv);
                objtable.appendChild(masterdiv);
                isunder = false;
                if (!manager) {
                    if (objtype == "group") {
                        changebackgroundcolorobject(objname);
                    }
                    else {
                        let status = document.getElementById(objtable.id + "tab");
                        if (status.checked) {
                            masterdiv.style.display = "none"
                        }
                    }
                }

            },
            deleteobjectlist(deleteobj) {
                let getobj = (document.getElementById(deleteobj.model_.name));
                if (getobj.childElementCount != 1) {
                    for (let i = 0; i < modelObj.length; i++) {
                        //if (modelObj[i].model_.name == e.id) {}
                    }
                }
                // let getobj_id = getobj.id;
                // if (clickhierarchyinfo == getobj_id) {
                //     clickhierarchyinfo = 0;
                // }
                clickhierarchyinfo = 0;
                isclickhierarchy = false;
                objmarker.forEach(element => {
                    if (element._element.id == getobj.id) {
                        element.remove();
                    }
                });
                getobj.remove();
            },
            checkclick(e) {
                if (doubleclickcheck && e.id != "input") {
                    clickdiv.innerText = savename;
                    //clickdiv.id = savename;

                    doubleclickcheck = false;
                }
                if (!gizmoclickcheck) {
                    let isin = false;
                    const inspectorlist = e.classList;
                    for (let j = 0; j < inspectorlist.length; j++) {
                        if (inspectorlist[j] == "inspectorclass") {
                            isin = true;
                        }
                    }

                    if (e.className != "objlist" && isclickhierarchy && !isclickobject && !isin && e.className != "obj-box-category-col-btn" && e.id != "model_viewer" && e.className != "clearbtn" && e.id != "obj-box-Objlist-searching-clear" && e.className != "editorModeIcon editorMode editorModeIcons-icon" && e.className != "icon-clicked" && e.id != "new-obj-box-import-importbtn" && e.className != "grouplist" && e.className != "adressinfo" && e.className != "custom-radio-button" && e.name != "modelinfo-view-top-tabs") { //클릭 해제
                        let clicklist = document.getElementById(clickhierarchyinfo).firstElementChild;
                        if(clicklist!=null)
                        clicklist.style.backgroundColor = 'var(--btn-color)';
                        isclickhierarchy = false;
                        customLayer.allgizmofalse();
                        customLayer.deselectMesh();
                        document.getElementById("main-editor-side-view-property-property").style.visibility = "visible";
                        selectsomething = false;
                        propertyReset();
                    }
                    else if (e.className == "objlist") {
                        selectsomething = true;
                        let thismodel;
                        if (managermodecheck) {
                            thismodel = manager_modelObj;
                        }
                        else {
                            thismodel = modelObj;
                        }
                        for (let i = 0; i < thismodel.length; i++) {
                            if (thismodel[i].model_.name == e.innerText) {
                                document.getElementById("main-editor-side-view-property-property").style.visibility = "visible";
                                islistselect = thismodel[i].model_;
                                // document.getElementById("main-editor-view-property-property-disable").style.visibility="visible";
                                customLayer.deselectMesh();
                                customLayer.allgizmofalse();
                                selectMesh(thismodel[i].model_, thismodel[i])
                                //selectedMesh = modelObj[i];   //객체 자체를삽입.. ㅎ
                                //console.log("1486",selectedMesh)
                                customLayer.addoutline();
                                gizmoManager.attachToMesh(islistselect);
                                setInspectorTransform()
                                markerListReset();
                            }
                        }
                    }
                }
                else {
                    gizmoclickcheck = false;
                }
                if (e.className == "grouplist") {
                    recentgroup = e.id;
                }

                isclickobject = false;

            },
            addoutline() {
                selectionLayer.removeAllMeshes();
                selectionLayer.isEnabled = true;
                selectionLayer.addMesh(selectedMesh.model_, new BABYLON.Color3(0, 0.64, 1));
                let children = selectedMesh.allmesh_.meshes;
                let children2 = selectedMesh.model_.getChildMeshes();
                gizmoManager.attachToMesh(findRootMesh(selectedMesh.model_));
                customLayer.allgizmofalse();
                children.forEach(child => {
                    if (child instanceof BABYLON.Mesh) {
                        selectionLayer.addMesh(child, new BABYLON.Color3(0, 0.64, 1));
                    } else {
                        //console.warn("Child is not a Mesh:", child);
                    }
                });
                selectionLayer.blurVerticalSize = 0.7;
                selectionLayer.blurHorizontalSize = 0.7;
                selectionLayer.innerGlow = false;
            },
            deselectMesh() {
                //console.log(selectedMesh.model_)
                if (selectedMesh.model_) {
                    //console.log(selectedMesh)
                    let children = selectedMesh.model_.getChildMeshes();
                    children.forEach(child => {
                        selectionLayer.removeMesh(child);
                    });
                    //selectsomething = false;
                    selectionLayer.removeMesh(selectedMesh.model_);
                    //selectedMesh = null;
                }
            },
            allgizmofalse() {
                gizmoManager.positionGizmoEnabled = false;
                gizmoManager.rotationGizmoEnabled = false;
                gizmoManager.scaleGizmoEnabled = false;
                gizmoManager.boundingBoxGizmoEnabled = false;
            },
             toggleSelectExtraDuplicatedPolygonMode() {
                this.mode = 'select_duplicated'


                if (!this.map.getSource('building_duplicated')) this.map.addSource('building_duplicated', { type: 'geojson', data: turf.featureCollection([]) })
                else this.map.getSource('building_duplicated').setData(turf.featureCollection([]))

                if (!this.map.getLayer('building_duplicated'))
                    this.map.addLayer({
                        id: 'building_duplicated',
                        source: 'building_duplicated',
                        type: 'line',
                        layout: {
                            'line-cap': 'round',
                            'line-join': 'round',
                        },
                        paint: {
                            'line-color': '#0075FF', // 빨강
                            'line-width': 3,
                        },
                    })

            },


        };
        let hoveredBuildingId = null;
        map.on("style.load", () => {
            map.addLayer(customLayer);
             customLayer.toggleSelectExtraDuplicatedPolygonMode();
            // customLayer.setSelectExtraDuplicatedPolygonMode();
        });
    map.on('mousemove', 'TN_BULD_3D', function (e) {
        if (e.features.length > 0) {
            if (hoveredBuildingId) {
                map.setFeatureState(
                    { source: 'tn_buld', sourceLayer: 'tn_buld', id: hoveredBuildingId },
                    { hover: false }
                );
            }
            hoveredBuildingId = e.features[0].properties.id;
            map.setFeatureState(
                { source: 'tn_buld', sourceLayer: 'tn_buld', id: hoveredBuildingId },
                { hover: true }
            );
            if(MapColor){
                map.setPaintProperty('TN_BULD_3D', 'fill-extrusion-color', [
                    'case',
                    // 호버된 건물이 클릭된 건물 목록에 포함되어 있을 경우 호버 색상 처리
                    ['all',
                        ['==', ['get', 'id'], hoveredBuildingId],
                        ['in', ['get', 'id'], ['literal', clickedBuildingIdList]]
                    ], otherBULD_color.hoverBD,
                    // 클릭된 건물에 대한 색상 처리
                    ['in', ['get', 'id'], ['literal', clickedBuildingIdList]], otherBULD_color.clickedBD,
                    // 나머지 경우에 대한 기본 색상
                    [
                        'match',
                        ['get', 'bprp_se'],
                        'BDU010', otherBULD_color.BDU010,
                        'BDU013', otherBULD_color.BDU013,
                        'BDU016', otherBULD_color.BDU016,
                        'BDU027', otherBULD_color.BDU027,
                        'BDU007', otherBULD_color.BDU007,
                        'BDU009', otherBULD_color.BDU009,
                        'BDU014', otherBULD_color.BDU014,
                        'BDU002', otherBULD_color.BDU002,
                        'BDU001', otherBULD_color.BDU001,
                        otherBULD_color.default // 기본 색상
                    ]
                ]);
            }
            else{
                 map.setPaintProperty('TN_BULD_3D', 'fill-extrusion-color', [
                    'case',
                    // 호버된 건물이 클릭된 건물 목록에 포함되어 있을 경우 호버 색상 처리
                    ['all',
                        ['==', ['get', 'id'], hoveredBuildingId],
                        ['in', ['get', 'id'], ['literal', clickedBuildingIdList]]
                    ], otherBULD_color.hoverBD,
                    // 클릭된 건물에 대한 색상 처리
                    ['in', ['get', 'id'], ['literal', clickedBuildingIdList]], otherBULD_color.clickedBD,
                    // 나머지 경우에 대한 기본 색상
                   [
                         'match',
                         ['get', 'bprp_se'],
                         'BDU016', "rgb(36,51,82)",
                         'BDU007', "rgb(254, 60, 120)",
                         'BDU014', "rgb(78,241, 212)",
                         'BDU002', "rgb(36,51,82)",
                         'BDU001', "rgb(51, 92, 255)",
                         "rgb(13,18,34)"
                     ]
                ]);
            }
         
           
          
        }

    });
    map.on('mouseleave', 'TN_BULD_3D', function () {
            if (hoveredBuildingId) {
                map.setFeatureState(
                    { source: 'tn_buld', sourceLayer: 'tn_buld', id: hoveredBuildingId },
                    { hover: false }

                );
                if(MapColor){
                    map.setPaintProperty('TN_BULD_3D', 'fill-extrusion-color', [
                        'match',
                        ['get', 'id'],
                        clickedBuildingIdList, //클릭 된 빌딩 id배열
                        otherBULD_color.clickedBD, // 클릭된 빌딩의 색상
                        // 다른 빌딩의 색상은 그대로 유지
                        [
                            'match',
                            ['get', 'bprp_se'],
                            'BDU010', otherBULD_color.BDU010,
                            'BDU013', otherBULD_color.BDU013,
                            'BDU016', otherBULD_color.BDU016,
                            'BDU027', otherBULD_color.BDU027,
                            'BDU007', otherBULD_color.BDU007,
                            'BDU009', otherBULD_color.BDU009,
                            'BDU014', otherBULD_color.BDU014,
                            'BDU002', otherBULD_color.BDU002,
                            'BDU001', otherBULD_color.BDU001,
                            otherBULD_color.default // 기본 색상
                        ]
                    ]);
                }
                else{
                     map.setPaintProperty('TN_BULD_3D', 'fill-extrusion-color', [
                        'match',
                        ['get', 'id'],
                        clickedBuildingIdList, //클릭 된 빌딩 id배열
                        otherBULD_color.clickedBD, // 클릭된 빌딩의 색상
                        // 다른 빌딩의 색상은 그대로 유지
                        [
                             'match',
                             ['get', 'bprp_se'],
                             'BDU016', "rgb(36,51,82)",
                             'BDU007', "rgb(254, 60, 120)",
                             'BDU014', "rgb(78,241, 212)",
                             'BDU002', "rgb(36,51,82)",
                             'BDU001', "rgb(51, 92, 255)",
                             "rgb(13,18,34)"
                         ]
                    ]);
                }
                
            }
            hoveredBuildingId = null;
        });


        
//import 클릭시 호출
function startimport() {
  let named_ = null;
  if (clickobjinfo != null) {
    setting_json.name = document.getElementById(
      "editor-modelProperty-name"
    ).value;
    //createobject("centralcity_bridges", "센트럴시티 보도육교");
    //completedEventImport();
    //handleChange("facility", true);
  }
}


    </script>


</body>

</html>